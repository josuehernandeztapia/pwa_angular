import{b as Y}from"./chunk-DYOXCRTF.js";import"./chunk-O54BG3VU.js";import"./chunk-NH6JDP7H.js";import"./chunk-XIPGL6BB.js";import{n as A,p as H}from"./chunk-SCHFUJ5K.js";import{a as q}from"./chunk-YYSQDTD3.js";import"./chunk-QCEAPM7G.js";import{b as W,d as B,g as R,n as j,o as N,p as $,u as U}from"./chunk-S2UEMBMO.js";import{Ea as l,Fa as y,Sa as x,Ua as p,Wa as k,Xa as w,Xb as I,Ya as n,Yb as z,Za as i,_a as O,bb as b,bc as V,cb as u,db as d,ea as E,ib as o,jb as _,kb as h,ma as m,mb as D,na as f,nb as L,ob as P,pb as S,qb as M,sb as F,ub as T}from"./chunk-5IDTUAMZ.js";import"./chunk-DM275RSA.js";var G=a=>["/clientes",a];function X(a,g){if(a&1){let e=b();n(0,"button",44),u("click",function(){m(e);let t=d();return f(t.clearAllFilters())}),o(1," \u{1F5D1}\uFE0F Limpiar "),i()}}function J(a,g){if(a&1&&(n(0,"span",49),o(1),i()),a&2){let e=d(2);l(),h("Estado: ",e.filterStatus,"")}}function K(a,g){if(a&1&&(n(0,"span",49),o(1),i()),a&2){let e=d(2);l(),h("Score: ",e.getHealthScoreLabel(e.filterHealthScore),"")}}function Q(a,g){if(a&1&&(n(0,"span",49),o(1),i()),a&2){let e=d(2);l(),_(e.getMarketName(e.filterMarket))}}function Z(a,g){if(a&1&&(n(0,"span",49),o(1),i()),a&2){let e=d(2);l(),_(e.filterFlow)}}function ee(a,g){if(a&1&&(n(0,"div",45)(1,"span",46),o(2,"Segmentaci\xF3n activa:"),i(),x(3,J,2,1,"span",47)(4,K,2,1,"span",47)(5,Q,2,1,"span",47)(6,Z,2,1,"span",47),n(7,"span",48),o(8),i()()),a&2){let e=d();l(3),p("ngIf",e.filterStatus),l(),p("ngIf",e.filterHealthScore),l(),p("ngIf",e.filterMarket),l(),p("ngIf",e.filterFlow),l(2),D("",e.filteredClientes.length," cliente",e.filteredClientes.length!==1?"s":""," encontrado",e.filteredClientes.length!==1?"s":"","")}}function te(a,g){a&1&&(n(0,"div",50),O(1,"div",51),n(2,"p"),o(3,"Cargando clientes..."),i()())}function ne(a,g){a&1&&(n(0,"button",6),o(1," Crear primer cliente "),i())}function ie(a,g){if(a&1&&(n(0,"div",52)(1,"div",53),o(2,"\u{1F4DD}"),i(),n(3,"h3"),o(4),i(),n(5,"p"),o(6),i(),x(7,ne,2,0,"button",54),i()),a&2){let e=d();l(4),_(e.searchTerm?"No se encontraron clientes":"No hay clientes registrados"),l(2),_(e.searchTerm?"Intenta con otros t\xE9rminos de b\xFAsqueda":"Comienza creando tu primer cliente"),l(),p("ngIf",!e.searchTerm)}}function oe(a,g){if(a&1){let e=b();n(0,"div",61)(1,"button",62),u("click",function(){m(e);let t=d(2);return f(t.exportSelected())}),o(2),i(),n(3,"button",63),u("click",function(){m(e);let t=d(2);return f(t.clearSelection())}),o(4," \u{1F5D1}\uFE0F Limpiar "),i()()}if(a&2){let e=d(2);l(2),h(" \u{1F4CA} Exportar (",e.selectedClientes.size,") ")}}function re(a,g){if(a&1){let e=b();n(0,"div",55)(1,"div",56)(2,"label",57)(3,"input",58),u("change",function(){m(e);let t=d();return f(t.toggleSelectAll())}),i(),n(4,"span",59),o(5),i()()(),x(6,oe,5,1,"div",60),i()}if(a&2){let e=d();l(3),p("checked",e.allSelected)("indeterminate",e.someSelected&&!e.allSelected),l(2),h(" ",e.selectedClientes.size===0?"Seleccionar todo":e.selectedClientes.size+" seleccionado"+(e.selectedClientes.size!==1?"s":"")," "),l(),p("ngIf",e.selectedClientes.size>0)}}function ae(a,g){if(a&1&&(n(0,"div",91)(1,"span",92),o(2,"Health"),i(),n(3,"span"),o(4),i()()),a&2){let e=d().$implicit,r=d(2);l(3),w("score-value "+r.getHealthScoreClass(e.healthScore)),l(),h(" ",e.healthScore,"% ")}}function le(a,g){a&1&&(n(0,"div",93),o(1," \u{1F6A8} Urgente "),i())}function se(a,g){a&1&&(n(0,"div",94),o(1," \u{1F48E} Premium "),i())}function ce(a,g){a&1&&(n(0,"div",95),o(1," \u26A0\uFE0F Riesgo "),i())}function de(a,g){a&1&&(n(0,"div",96),o(1," \u{1F6E1}\uFE0F Protecci\xF3n "),i())}function pe(a,g){if(a&1){let e=b();n(0,"div",66)(1,"div",67),u("click",function(t){let c=m(e).$implicit,s=d(2);return f(s.toggleClientSelection(c.id,t))}),n(2,"input",68),u("click",function(t){return m(e),f(t.stopPropagation())}),i()(),n(3,"div",69)(4,"div",70)(5,"div",71),o(6),i(),n(7,"div",72)(8,"h3",73),o(9),i(),n(10,"p",74),o(11),i()(),n(12,"div",75),x(13,ae,5,3,"div",76),n(14,"div",77)(15,"span"),o(16),i()()()(),n(17,"div",78)(18,"div",79)(19,"span",80),o(20,"\u{1F4F1} Tel\xE9fono:"),i(),n(21,"span",81),o(22),i()(),n(23,"div",79)(24,"span",80),o(25,"\u{1F3E2} Mercado:"),i(),n(26,"span",81),o(27),i()(),n(28,"div",79)(29,"span",80),o(30,"\u{1F4BC} Producto:"),i(),n(31,"span",81),o(32),i()(),n(33,"div",79)(34,"span",80),o(35,"\u{1F4C5} Creado:"),i(),n(36,"span",81),o(37),i()()(),n(38,"div",82),x(39,le,2,0,"div",83)(40,se,2,0,"div",84)(41,ce,2,0,"div",85)(42,de,2,0,"div",86),i()(),n(43,"div",87)(44,"button",88),u("click",function(t){let c=m(e).$implicit,s=d(2);return t.stopPropagation(),f(s.callClient(c))}),o(45," \u{1F4DE} "),i(),n(46,"button",89),u("click",function(t){let c=m(e).$implicit,s=d(2);return t.stopPropagation(),f(s.emailClient(c))}),o(47," \u2709\uFE0F "),i(),n(48,"button",90),u("click",function(t){let c=m(e).$implicit,s=d(2);return t.stopPropagation(),f(s.viewClientDetails(c.id))}),o(49," \u{1F441}\uFE0F "),i()()()}if(a&2){let e=g.$implicit,r=d(2);k("selected",r.selectedClientes.has(e.id)),l(2),p("checked",r.selectedClientes.has(e.id)),l(),p("routerLink",T(21,G,e.id)),l(2),w(r.getHealthScoreClass(e.healthScore)),l(),h(" ",r.getClientInitials(e.name)," "),l(3),_(e.name),l(2),_(e.email||"Sin email"),l(2),p("ngIf",e.healthScore!==void 0),l(2),w(r.getStatusClass(e.status)),l(),h(" ",e.status," "),l(6),_(e.phone||"No registrado"),l(5),_(r.getMarketName(e.market||"")),l(5),_(e.flow),l(5),_(r.formatDate(e.createdAt)),l(2),p("ngIf",r.isClientUrgent(e)),l(),p("ngIf",r.isHighValueClient(e)),l(),p("ngIf",r.isAtRisk(e)),l(),p("ngIf",r.hasProtectionAvailable(e))}}function ge(a,g){if(a&1&&(n(0,"div",64),x(1,pe,50,23,"div",65),i()),a&2){let e=d();l(),p("ngForOf",e.paginatedClientes)("ngForTrackBy",e.trackByClientId)}}function ue(a,g){if(a&1){let e=b();n(0,"button",113),u("click",function(){let t=m(e).$implicit,c=d(3);return f(t!=="..."&&c.goToPage(+t))}),o(1),i()}if(a&2){let e=g.$implicit,r=d(3);w("page-btn "+(e===r.currentPage?"active":"")),p("disabled",e==="..."),l(),h(" ",e," ")}}function me(a,g){if(a&1){let e=b();n(0,"div",106)(1,"button",107),u("click",function(){m(e);let t=d(2);return f(t.goToPage(1))}),o(2," \u23EE\uFE0F "),i(),n(3,"button",108),u("click",function(){m(e);let t=d(2);return f(t.goToPage(t.currentPage-1))}),o(4," \u25C0\uFE0F "),i(),n(5,"div",109),x(6,ue,2,4,"button",110),i(),n(7,"button",111),u("click",function(){m(e);let t=d(2);return f(t.goToPage(t.currentPage+1))}),o(8," \u25B6\uFE0F "),i(),n(9,"button",112),u("click",function(){m(e);let t=d(2);return f(t.goToPage(t.totalPages))}),o(10," \u23ED\uFE0F "),i()()}if(a&2){let e=d(2);l(),p("disabled",e.currentPage===1),l(2),p("disabled",e.currentPage===1),l(3),p("ngForOf",e.getVisiblePages()),l(),p("disabled",e.currentPage===e.totalPages),l(2),p("disabled",e.currentPage===e.totalPages)}}function fe(a,g){if(a&1){let e=b();n(0,"div",97)(1,"div",98)(2,"span",99),o(3),i(),n(4,"div",100)(5,"label"),o(6,"Mostrar:"),i(),n(7,"select",101),M("ngModelChange",function(t){m(e);let c=d();return S(c.pageSize,t)||(c.pageSize=t),f(t)}),u("change",function(){m(e);let t=d();return f(t.onPageSizeChange())}),n(8,"option",102),o(9,"20"),i(),n(10,"option",103),o(11,"50"),i(),n(12,"option",104),o(13,"100"),i()(),n(14,"span"),o(15,"por p\xE1gina"),i()()(),x(16,me,11,5,"div",105),i()}if(a&2){let e=d();l(3),L(" Mostrando ",e.getDisplayRange()," de ",e.filteredClientes.length," cliente",e.filteredClientes.length!==1?"s":""," ",e.hasActiveFilters()?"(filtrados)":""," "),l(4),P("ngModel",e.pageSize),l(9),p("ngIf",e.totalPages>1)}}var we=(()=>{class a{constructor(e,r){this.apiService=e,this.toast=r,this.clientes=[],this.filteredClientes=[],this.paginatedClientes=[],this.searchTerm="",this.filterMarket="",this.filterFlow="",this.filterStatus="",this.filterHealthScore="",this.selectedClientes=new Set,this.currentPage=1,this.pageSize=20,this.totalPages=0,this.isLoading=!0,this.totalClientes=0}ngOnInit(){this.loadClientes()}loadClientes(){this.isLoading=!0,this.apiService.getClients().subscribe({next:e=>{this.clientes=e,this.filteredClientes=[...this.clientes],this.totalClientes=this.clientes.length,this.updatePagination(),this.isLoading=!1},error:e=>{this.toast.error("Error al cargar los clientes"),this.isLoading=!1}})}onSearch(){this.applyFilters()}applyFilters(){this.filteredClientes=this.clientes.filter(e=>{let r=!this.searchTerm||e.name.toLowerCase().includes(this.searchTerm.toLowerCase())||e.email&&e.email.toLowerCase().includes(this.searchTerm.toLowerCase())||e.phone&&e.phone.includes(this.searchTerm),t=!this.filterMarket||e.market===this.filterMarket,c=!this.filterFlow||e.flow===this.filterFlow,s=!this.filterStatus||e.status===this.filterStatus,v=!this.filterHealthScore||this.matchesHealthScoreFilter(e,this.filterHealthScore);return r&&t&&c&&s&&v}),this.currentPage=1,this.updatePagination()}matchesHealthScoreFilter(e,r){let t=e.healthScore;if(t===void 0)return r==="critical";switch(r){case"critical":return t<40;case"poor":return t>=40&&t<60;case"good":return t>=60&&t<80;case"excellent":return t>=80;default:return!0}}updatePagination(){this.totalPages=Math.ceil(this.filteredClientes.length/this.pageSize);let e=(this.currentPage-1)*this.pageSize,r=e+this.pageSize;this.paginatedClientes=this.filteredClientes.slice(e,r),this.selectedClientes.forEach(t=>{this.paginatedClientes.some(c=>c.id===t)})}trackByClientId(e,r){return r.id}getClientInitials(e){return e.split(" ").map(r=>r.charAt(0)).slice(0,2).join("").toUpperCase()}getStatusClass(e){switch(e.toLowerCase()){case"activo":return"status-activo";case"pendiente":return"status-pendiente";case"inactivo":return"status-inactivo";default:return"status-pendiente"}}getMarketName(e){switch(e){case"aguascalientes":return"Aguascalientes";case"edomex":return"Estado de M\xE9xico";default:return e}}formatDate(e){return e?new Intl.DateTimeFormat("es-MX",{year:"numeric",month:"short",day:"numeric"}).format(e):"No registrado"}hasActiveFilters(){return!!(this.searchTerm||this.filterMarket||this.filterFlow||this.filterStatus||this.filterHealthScore)}clearAllFilters(){this.searchTerm="",this.filterMarket="",this.filterFlow="",this.filterStatus="",this.filterHealthScore="",this.applyFilters()}getHealthScoreLabel(e){return{critical:"Cr\xEDtico (< 40)",poor:"Regular (40-59)",good:"Bueno (60-79)",excellent:"Excelente (80+)"}[e]||e}getHealthScoreClass(e){return e===void 0?"score-unknown":e>=80?"score-excellent":e>=60?"score-good":e>=40?"score-poor":"score-critical"}isClientUrgent(e){return e.healthScore!==void 0&&e.healthScore<40||e.status==="En Riesgo"||e.status==="Documentos Incompletos"}isHighValueClient(e){return e.healthScore!==void 0&&e.healthScore>=90&&e.status==="Activo"}isAtRisk(e){return e.healthScore!==void 0&&e.healthScore<60||e.status==="En Riesgo"}hasProtectionAvailable(e){return["VentaPlazo","AhorroProgramado","CreditoColectivo"].includes(e.flow)}get allSelected(){return this.paginatedClientes.length>0&&this.paginatedClientes.every(e=>this.selectedClientes.has(e.id))}get someSelected(){return this.paginatedClientes.some(e=>this.selectedClientes.has(e.id))}toggleSelectAll(){this.allSelected?this.paginatedClientes.forEach(e=>{this.selectedClientes.delete(e.id)}):this.paginatedClientes.forEach(e=>{this.selectedClientes.add(e.id)})}toggleClientSelection(e,r){r.preventDefault(),r.stopPropagation(),this.selectedClientes.has(e)?this.selectedClientes.delete(e):this.selectedClientes.add(e)}clearSelection(){this.selectedClientes.clear()}onPageSizeChange(){this.currentPage=1,this.updatePagination()}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.updatePagination())}getDisplayRange(){if(this.filteredClientes.length===0)return"0";let e=(this.currentPage-1)*this.pageSize+1,r=Math.min(e+this.pageSize-1,this.filteredClientes.length);return`${e}-${r}`}getVisiblePages(){let e=[],r=this.totalPages,t=this.currentPage;if(r<=7)for(let c=1;c<=r;c++)e.push(c);else{e.push(1),t>4&&e.push("...");let c=Math.max(2,t-1),s=Math.min(r-1,t+1);for(let v=c;v<=s;v++)e.push(v);t<r-3&&e.push("..."),e.push(r)}return e}exportSelected(){if(this.selectedClientes.size===0){this.toast.error("Selecciona al menos un cliente para exportar");return}let e=this.clientes.filter(r=>this.selectedClientes.has(r.id));this.exportToCSV(e)}exportToCSV(e){let t=[["Nombre","Email","Tel\xE9fono","Estado","Health Score","Mercado","Producto","Fecha Creaci\xF3n"].join(","),...e.map(C=>[`"${C.name}"`,`"${C.email||""}"`,`"${C.phone||""}"`,`"${C.status}"`,C.healthScore?.toString()||"",`"${this.getMarketName(C.market||"")}"`,`"${C.flow}"`,C.createdAt?this.formatDate(C.createdAt):""].join(","))].join(`
`),c=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),v=URL.createObjectURL(c);s.setAttribute("href",v),s.setAttribute("download",`clientes_${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),this.toast.success(`${e.length} clientes exportados exitosamente`)}callClient(e){e.phone?window.open(`tel:${e.phone}`,"_self"):this.toast.error("Este cliente no tiene tel\xE9fono registrado")}emailClient(e){e.email?window.open(`mailto:${e.email}?subject=Seguimiento Conductores PWA`,"_self"):this.toast.error("Este cliente no tiene email registrado")}viewClientDetails(e){}static{this.\u0275fac=function(r){return new(r||a)(y(Y),y(q))}}static{this.\u0275cmp=E({type:a,selectors:[["app-clientes-list"]],standalone:!0,features:[F],decls:76,vars:12,consts:[[1,"clientes-container"],[1,"clientes-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["routerLink","/clientes/nuevo",1,"btn-primary"],[1,"segmentation-section"],[1,"search-box"],[1,"search-input-container"],[1,"search-icon"],["type","text","placeholder","\xBFD\xF3nde est\xE1 el cliente...?",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"strategic-filters"],[1,"filter-group","priority"],[1,"filter-label"],[1,"filter-select","status",3,"ngModelChange","change","ngModel"],["value",""],["value","Activo"],["value","Pendiente"],["value","En Expediente"],["value","Documentos Incompletos"],["value","En Riesgo"],["value","Inactivo"],[1,"filter-group","critical"],[1,"filter-select","health",3,"ngModelChange","change","ngModel"],["value","critical"],["value","poor"],["value","good"],["value","excellent"],[1,"filter-group","secondary"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value","aguascalientes"],["value","edomex"],["value","Venta a Plazo"],["value","Plan de Ahorro"],["value","Cr\xE9dito Colectivo"],["value","Venta Directa"],["class","clear-filters-btn","title","Limpiar todos los filtros",3,"click",4,"ngIf"],["class","active-filters-summary",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","strategic-actions-bar",4,"ngIf"],["class","clients-grid",4,"ngIf"],["class","strategic-pagination",4,"ngIf"],["title","Limpiar todos los filtros",1,"clear-filters-btn",3,"click"],[1,"active-filters-summary"],[1,"summary-label"],["class","filter-tag",4,"ngIf"],[1,"results-count"],[1,"filter-tag"],[1,"loading-container"],[1,"loading-spinner"],[1,"empty-state"],[1,"empty-icon"],["routerLink","/clientes/nuevo","class","btn-primary",4,"ngIf"],[1,"strategic-actions-bar"],[1,"selection-info"],[1,"select-all-container"],["type","checkbox",1,"select-all-checkbox",3,"change","checked","indeterminate"],[1,"select-all-label"],["class","bulk-actions",4,"ngIf"],[1,"bulk-actions"],["title","Exportar clientes seleccionados",1,"action-btn","export",3,"click"],["title","Limpiar selecci\xF3n",1,"action-btn","clear",3,"click"],[1,"clients-grid"],["class","client-card",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],[1,"client-card"],[1,"selection-area",3,"click"],["type","checkbox",1,"client-checkbox",3,"click","checked"],[1,"card-content",3,"routerLink"],[1,"client-header"],[1,"client-avatar"],[1,"client-info"],[1,"client-name"],[1,"client-email"],[1,"client-metrics"],["class","health-score",4,"ngIf"],[1,"client-status"],[1,"client-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"strategic-indicators"],["class","indicator urgent","title","Requiere atenci\xF3n inmediata",4,"ngIf"],["class","indicator opportunity","title","Cliente de alto valor",4,"ngIf"],["class","indicator risk","title","Cliente en riesgo",4,"ngIf"],["class","indicator protection","title","Protecci\xF3n financiera disponible",4,"ngIf"],[1,"client-actions"],["title","Llamar cliente",1,"action-btn","call",3,"click"],["title","Enviar email",1,"action-btn","email",3,"click"],["title","Ver detalles completos",1,"action-btn","view",3,"click"],[1,"health-score"],[1,"score-label"],["title","Requiere atenci\xF3n inmediata",1,"indicator","urgent"],["title","Cliente de alto valor",1,"indicator","opportunity"],["title","Cliente en riesgo",1,"indicator","risk"],["title","Protecci\xF3n financiera disponible",1,"indicator","protection"],[1,"strategic-pagination"],[1,"pagination-info"],[1,"results-summary"],[1,"page-size-selector"],[1,"page-size-select",3,"ngModelChange","change","ngModel"],["value","20"],["value","50"],["value","100"],["class","pagination-controls",4,"ngIf"],[1,"pagination-controls"],["title","Primera p\xE1gina",1,"page-btn","first",3,"click","disabled"],["title","P\xE1gina anterior",1,"page-btn","prev",3,"click","disabled"],[1,"page-numbers"],[3,"class","disabled","click",4,"ngFor","ngForOf"],["title","P\xE1gina siguiente",1,"page-btn","next",3,"click","disabled"],["title","\xDAltima p\xE1gina",1,"page-btn","last",3,"click","disabled"],[3,"click","disabled"]],template:function(r,t){r&1&&(n(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),o(4,"\u{1F465} Gesti\xF3n de Clientes"),i(),n(5,"p",4),o(6,"Administra todos tus clientes y sus expedientes"),i()(),n(7,"div",5)(8,"button",6),o(9," \u2795 Nuevo Cliente "),i()()(),n(10,"div",7)(11,"div",8)(12,"div",9)(13,"span",10),o(14,"\u{1F50D}"),i(),n(15,"input",11),M("ngModelChange",function(s){return S(t.searchTerm,s)||(t.searchTerm=s),s}),u("input",function(){return t.onSearch()}),i()()(),n(16,"div",12)(17,"div",13)(18,"label",14),o(19,"\u{1F6A8} Estado Cr\xEDtico"),i(),n(20,"select",15),M("ngModelChange",function(s){return S(t.filterStatus,s)||(t.filterStatus=s),s}),u("change",function(){return t.applyFilters()}),n(21,"option",16),o(22,"Todos los estados"),i(),n(23,"option",17),o(24,"\u2705 Activo"),i(),n(25,"option",18),o(26,"\u23F3 Pendiente"),i(),n(27,"option",19),o(28,"\u{1F4CB} En Expediente"),i(),n(29,"option",20),o(30,"\u26A0\uFE0F Doc. Incompletos"),i(),n(31,"option",21),o(32,"\u{1F534} En Riesgo"),i(),n(33,"option",22),o(34,"\u274C Inactivo"),i()()(),n(35,"div",23)(36,"label",14),o(37,"\u{1F4B9} Health Score"),i(),n(38,"select",24),M("ngModelChange",function(s){return S(t.filterHealthScore,s)||(t.filterHealthScore=s),s}),u("change",function(){return t.applyFilters()}),n(39,"option",16),o(40,"Todos los scores"),i(),n(41,"option",25),o(42,"\u{1F534} Cr\xEDtico (< 40)"),i(),n(43,"option",26),o(44,"\u{1F7E0} Regular (40-59)"),i(),n(45,"option",27),o(46,"\u{1F7E1} Bueno (60-79)"),i(),n(47,"option",28),o(48,"\u{1F7E2} Excelente (80+)"),i()()(),n(49,"div",29)(50,"select",30),M("ngModelChange",function(s){return S(t.filterMarket,s)||(t.filterMarket=s),s}),u("change",function(){return t.applyFilters()}),n(51,"option",16),o(52,"Todos los mercados"),i(),n(53,"option",31),o(54,"Aguascalientes"),i(),n(55,"option",32),o(56,"Estado de M\xE9xico"),i()()(),n(57,"div",29)(58,"select",30),M("ngModelChange",function(s){return S(t.filterFlow,s)||(t.filterFlow=s),s}),u("change",function(){return t.applyFilters()}),n(59,"option",16),o(60,"Todos los productos"),i(),n(61,"option",33),o(62,"Venta a Plazo"),i(),n(63,"option",34),o(64,"Plan de Ahorro"),i(),n(65,"option",35),o(66,"Cr\xE9dito Colectivo"),i(),n(67,"option",36),o(68,"Venta Directa"),i()()(),x(69,X,2,0,"button",37),i(),x(70,ee,9,7,"div",38),i(),x(71,te,4,0,"div",39)(72,ie,8,3,"div",40)(73,re,7,4,"div",41)(74,ge,2,2,"div",42)(75,fe,17,6,"div",43),i()),r&2&&(l(15),P("ngModel",t.searchTerm),l(5),P("ngModel",t.filterStatus),l(18),P("ngModel",t.filterHealthScore),l(12),P("ngModel",t.filterMarket),l(8),P("ngModel",t.filterFlow),l(11),p("ngIf",t.hasActiveFilters()),l(),p("ngIf",t.hasActiveFilters()),l(),p("ngIf",t.isLoading),l(),p("ngIf",!t.isLoading&&t.filteredClientes.length===0),l(),p("ngIf",!t.isLoading&&t.filteredClientes.length>0),l(),p("ngIf",!t.isLoading&&t.filteredClientes.length>0),l(),p("ngIf",!t.isLoading&&t.filteredClientes.length>0))},dependencies:[V,I,z,H,A,U,N,$,W,j,B,R],styles:[".clientes-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px}.clientes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#111827;margin:0}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:8px 0 0}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:12px 24px;border:none;border-radius:8px;font-weight:600;font-size:14px;cursor:pointer;text-decoration:none;display:inline-block;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb}.segmentation-section[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:24px;margin-bottom:24px;box-shadow:0 1px 3px #0000001a}.strategic-filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-top:16px;align-items:end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.filter-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#374151}.filter-group.priority[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{color:#dc2626}.filter-group.critical[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{color:#ea580c}.filter-select[_ngcontent-%COMP%]{padding:12px;border:1px solid #d1d5db;border-radius:8px;background:#fff;font-size:14px;outline:none;cursor:pointer;transition:border-color .2s,box-shadow .2s}.filter-select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.filter-select.status[_ngcontent-%COMP%]{border-color:#dc2626}.filter-select.health[_ngcontent-%COMP%]{border-color:#ea580c}.clear-filters-btn[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:none;border-radius:8px;padding:12px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s;align-self:end}.clear-filters-btn[_ngcontent-%COMP%]:hover{background:#dc2626}.active-filters-summary[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#f3f4f6;border-radius:8px;display:flex;flex-wrap:wrap;gap:8px;align-items:center}.summary-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#374151}.filter-tag[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:4px 12px;border-radius:16px;font-size:12px;font-weight:500}.results-count[_ngcontent-%COMP%]{background:#10b981;color:#fff;padding:4px 12px;border-radius:16px;font-size:12px;font-weight:600;margin-left:auto}.search-box[_ngcontent-%COMP%]{flex:1;min-width:300px}.search-input-container[_ngcontent-%COMP%]{position:relative}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#6b7280}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 12px 12px 40px;border:1px solid #d1d5db;border-radius:8px;font-size:16px;outline:none;transition:border-color .2s}.search-input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.filters[_ngcontent-%COMP%]{display:flex;gap:12px}.filter-select[_ngcontent-%COMP%]{padding:12px;border:1px solid #d1d5db;border-radius:8px;background:#fff;font-size:14px;outline:none;cursor:pointer}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:64px 0;color:#6b7280}.loading-spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:2px solid #e5e7eb;border-left-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:64px 0;color:#6b7280}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#374151;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px}.strategic-actions-bar[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px 24px;margin-bottom:16px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 1px 3px #0000001a}.selection-info[_ngcontent-%COMP%]   .select-all-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer}.select-all-checkbox[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.select-all-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.bulk-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.action-btn.export[_ngcontent-%COMP%]{background:#10b981;color:#fff;border:none;border-radius:8px;padding:10px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.action-btn.export[_ngcontent-%COMP%]:hover{background:#059669}.action-btn.clear[_ngcontent-%COMP%]{background:#6b7280;color:#fff;border:none;border-radius:8px;padding:10px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.action-btn.clear[_ngcontent-%COMP%]:hover{background:#4b5563}.clients-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(420px,1fr));gap:24px;margin-bottom:32px}.client-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:16px;overflow:hidden;transition:all .3s ease;position:relative;display:flex;flex-direction:column;box-shadow:0 1px 3px #0000001a}.client-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026;border-color:#3b82f6}.client-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;background:#fefbff}.selection-area[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;z-index:10;padding:4px;cursor:pointer}.client-checkbox[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.card-content[_ngcontent-%COMP%]{padding:24px 24px 16px 56px;flex:1;text-decoration:none;color:inherit;cursor:pointer}.client-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a;border-color:#3b82f6}.client-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;margin-bottom:20px}.client-avatar[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:20px;color:#fff;border:3px solid;flex-shrink:0}.client-avatar.score-excellent[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border-color:#d1fae5}.client-avatar.score-good[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border-color:#fef3c7}.client-avatar.score-poor[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);border-color:#fee2e2}.client-avatar.score-critical[_ngcontent-%COMP%]{background:linear-gradient(135deg,#991b1b,#7f1d1d);border-color:#fecaca;animation:_ngcontent-%COMP%_pulse-critical 2s infinite}.client-avatar.score-unknown[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563);border-color:#f3f4f6}@keyframes _ngcontent-%COMP%_pulse-critical{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.client-metrics[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;align-items:flex-end}.health-score[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px}.score-label[_ngcontent-%COMP%]{font-size:10px;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.score-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;padding:4px 8px;border-radius:6px;min-width:50px;text-align:center}.score-value.score-excellent[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.score-value.score-good[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.score-value.score-poor[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.score-value.score-critical[_ngcontent-%COMP%]{background:#fecaca;color:#7f1d1d;animation:_ngcontent-%COMP%_blink-critical 2s infinite}@keyframes _ngcontent-%COMP%_blink-critical{0%,50%{opacity:1}51%,to{opacity:.7}}.client-info[_ngcontent-%COMP%]{flex:1}.client-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin:0}.client-email[_ngcontent-%COMP%]{color:#6b7280;font-size:14px;margin:4px 0 0}.client-status[_ngcontent-%COMP%]{align-self:flex-start}.status-activo[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;padding:4px 12px;border-radius:9999px;font-size:12px;font-weight:500}.status-pendiente[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e;padding:4px 12px;border-radius:9999px;font-size:12px;font-weight:500}.status-inactivo[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b;padding:4px 12px;border-radius:9999px;font-size:12px;font-weight:500}.client-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.detail-label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-weight:500}.detail-value[_ngcontent-%COMP%]{font-size:14px;color:#111827}.strategic-indicators[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin:16px 0 8px}.indicator[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.indicator.urgent[_ngcontent-%COMP%]{background:#fecaca;color:#7f1d1d;animation:_ngcontent-%COMP%_pulse 2s infinite}.indicator.opportunity[_ngcontent-%COMP%]{background:#ddd6fe;color:#5b21b6}.indicator.risk[_ngcontent-%COMP%]{background:#fed7aa;color:#9a3412}.indicator.protection[_ngcontent-%COMP%]{background:#ecfdf5;color:#065f46;border:1px solid #06d6a0}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.client-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;padding:16px 24px;border-top:1px solid #f3f4f6;background:#fafafa}.action-btn[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;font-size:16px;display:flex;align-items:center;justify-content:center;min-width:40px;height:40px}.action-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#d1d5db;transform:scale(1.05)}.action-btn.call[_ngcontent-%COMP%]:hover{background:#dcfce7;border-color:#10b981}.action-btn.email[_ngcontent-%COMP%]:hover{background:#dbeafe;border-color:#3b82f6}.action-btn.view[_ngcontent-%COMP%]:hover{background:#f3e8ff;border-color:#8b5cf6}.strategic-pagination[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:20px 24px;margin-top:24px;box-shadow:0 1px 3px #0000001a}.pagination-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.results-summary[_ngcontent-%COMP%]{color:#374151;font-size:14px;font-weight:500}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#6b7280}.page-size-select[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #d1d5db;border-radius:6px;background:#fff;font-size:14px;cursor:pointer}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px}.page-btn[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;border-radius:8px;background:#fff;color:#374151;cursor:pointer;transition:all .2s;font-size:14px;min-width:40px;height:40px;display:flex;align-items:center;justify-content:center}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.page-btn.active[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6;color:#fff;font-weight:600}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;color:#9ca3af}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:4px}@media (max-width: 768px){.clientes-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.filters-section[_ngcontent-%COMP%]{flex-direction:column}.search-box[_ngcontent-%COMP%]{min-width:auto}.clients-grid[_ngcontent-%COMP%], .client-details[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return a})();export{we as ClientesListComponent};
