import{c as q}from"./chunk-4M7CYCOE.js";import{k as F}from"./chunk-SCHFUJ5K.js";import{a as z}from"./chunk-YYSQDTD3.js";import{$ as x,Ea as r,I as M,Ma as f,Sa as g,Ua as c,Va as S,Wa as u,Xa as k,Xb as T,Ya as e,Yb as w,Za as t,_a as m,bb as P,bc as D,cb as _,db as s,ea as E,ib as i,jb as O,kb as v,lb as y,ma as b,na as h,sb as I}from"./chunk-5IDTUAMZ.js";import"./chunk-DM275RSA.js";function N(a,l){if(a&1&&(e(0,"p",17),i(1),t()),a&2){let n=s();r(),v(" Hola ",n.clientName(),", aqu\xED puedes ver el estado de tu pedido ")}}function A(a,l){a&1&&(e(0,"div",18),m(1,"div",19),e(2,"p"),i(3,"Consultando el estado de tu pedido..."),t()())}function B(a,l){a&1&&(e(0,"div",20)(1,"div",21),i(2,"\u{1F4CB}"),t(),e(3,"h3"),i(4,"No hay pedidos registrados"),t(),e(5,"p"),i(6,"A\xFAn no tienes vagonetas en proceso de entrega."),t()())}function V(a,l){if(a&1&&(e(0,"div",46)(1,"div",47),i(2,"\u{1F4C5}"),t(),e(3,"div",48)(4,"span",49),i(5,"Fecha estimada de entrega:"),t(),e(6,"span",50),i(7),t()()()),a&2){let n=s().$implicit;r(7),O(n.estimatedDate)}}function L(a,l){a&1&&(e(0,"div",51)(1,"div",52),i(2,"\u{1F389}"),t(),e(3,"p",53),i(4," \xA1Felicidades! Tu vagoneta ha sido entregada exitosamente. "),t()())}function j(a,l){if(a&1){let n=P();e(0,"div",54)(1,"div",55)(2,"div",56),i(3,"\u{1F4DE}"),t(),e(4,"div",57)(5,"h4"),i(6,"\xA1Tu vagoneta est\xE1 lista!"),t(),e(7,"p"),i(8,"Nos pondremos en contacto contigo pronto para coordinar la entrega."),t()()(),e(9,"button",58),_("click",function(){b(n);let d=s().$implicit,p=s(2);return h(p.requestCallback(d.orderId))}),i(10," Solicitar que me contacten "),t()()}}function $(a,l){a&1&&(e(0,"div",62)(1,"div",63)(2,"h6"),i(3,"\xBFPor qu\xE9 tarda tanto?"),t(),e(4,"p"),i(5,"Las vagonetas se fabrican especialmente para ti en China. El proceso completo toma aproximadamente 77 d\xEDas desde la orden hasta la entrega."),t()(),e(6,"div",63)(7,"h6"),i(8,"\xBFPuedo acelerar mi pedido?"),t(),e(9,"p"),i(10,"El tiempo de fabricaci\xF3n y env\xEDo es est\xE1ndar para todos los pedidos. No es posible acelerar el proceso."),t()(),e(11,"div",63)(12,"h6"),i(13,"\xBFC\xF3mo sabr\xE9 cu\xE1ndo est\xE1 lista?"),t(),e(14,"p"),i(15,"Te notificaremos por WhatsApp y llamada cuando tu vagoneta est\xE9 lista para entrega."),t()(),e(16,"div",63)(17,"h6"),i(18,"\xBFQu\xE9 documentos necesito?"),t(),e(19,"p"),i(20,"Necesitar\xE1s tu identificaci\xF3n oficial y copia del contrato firmado para recibir tu vagoneta."),t()()())}function R(a,l){if(a&1){let n=P();e(0,"div",59)(1,"button",60),_("click",function(){b(n);let d=s().$implicit,p=s(2);return h(p.toggleFaq(d.orderId))}),i(2," \u2753 Preguntas frecuentes "),t(),g(3,$,21,0,"div",61),t()}if(a&2){let n=s().$implicit,o=s(2);r(),u("active",o.openFaq()===n.orderId),r(2),c("ngIf",o.openFaq()===n.orderId)}}function H(a,l){if(a&1&&(e(0,"div",24)(1,"div",25)(2,"div",26)(3,"h3",27),i(4,"Tu Vagoneta"),t(),e(5,"span",28),i(6),t()(),e(7,"div",29),i(8),t()(),e(9,"div",30)(10,"div",31),m(11,"div",32),t(),e(12,"div",33)(13,"span",34),i(14,"Pedido realizado"),t(),e(15,"span",35),i(16,"Entregada"),t()()(),e(17,"div",36)(18,"p",37),i(19),t(),g(20,V,8,1,"div",38)(21,L,5,0,"div",39),t(),g(22,j,11,0,"div",40),e(23,"div",41)(24,"div",42),m(25,"div",43),e(26,"div",44)(27,"h5"),i(28,"Pedido realizado"),t(),e(29,"p"),i(30,"Tu pedido fue procesado exitosamente"),t()()(),e(31,"div",42),m(32,"div",43),e(33,"div",44)(34,"h5"),i(35,"En producci\xF3n"),t(),e(36,"p"),i(37,"Tu vagoneta se est\xE1 fabricando"),t()()(),e(38,"div",42),m(39,"div",43),e(40,"div",44)(41,"h5"),i(42,"En camino"),t(),e(43,"p"),i(44,"Tu vagoneta est\xE1 viajando hacia M\xE9xico"),t()()(),e(45,"div",42),m(46,"div",43),e(47,"div",44)(48,"h5"),i(49,"Lista para entrega"),t(),e(50,"p"),i(51,"Tu vagoneta lleg\xF3 y est\xE1 lista"),t()()(),e(52,"div",42),m(53,"div",43),e(54,"div",44)(55,"h5"),i(56,"Entregada"),t(),e(57,"p"),i(58,"\xA1Disfruta tu nueva vagoneta!"),t()()()(),g(59,R,4,3,"div",45),t()),a&2){let n=l.$implicit,o=s(2);r(6),v("Pedido ",n.orderId,""),r(),k("status-"+o.getStatusClass(n.status)),r(),y(" ",o.getStatusIcon(n.status)," ",n.status," "),r(3),S("width",o.getProgressPercentage(n.status),"%"),r(8),O(n.message),r(),c("ngIf",!n.isDelivered),r(),c("ngIf",n.isDelivered),r(),c("ngIf",n.canScheduleHandover&&!n.isDelivered),r(2),u("completed",o.isTimelineStepCompleted(n.status,"ordered")),r(7),u("completed",o.isTimelineStepCompleted(n.status,"production"))("current",o.isTimelineStepCurrent(n.status,"production")),r(7),u("completed",o.isTimelineStepCompleted(n.status,"shipping"))("current",o.isTimelineStepCurrent(n.status,"shipping")),r(7),u("completed",o.isTimelineStepCompleted(n.status,"ready"))("current",o.isTimelineStepCurrent(n.status,"ready")),r(7),u("completed",o.isTimelineStepCompleted(n.status,"delivered")),r(7),c("ngIf",!n.isDelivered)}}function W(a,l){if(a&1&&(e(0,"div",22),g(1,H,60,28,"div",23),t()),a&2){let n=s();r(),c("ngForOf",n.deliveryInfo())("ngForTrackBy",n.trackByOrderId)}}var ne=(()=>{class a{constructor(){this.deliveriesService=x(q),this.toastService=x(z),this.route=x(F),this.deliveryInfo=f([]),this.clientName=f(""),this.loading=f(!1),this.openFaq=f("")}ngOnInit(){let n=this.route.snapshot.paramMap.get("clientId"),o=this.clientId||n;o&&this.loadClientTracking(o)}loadClientTracking(n){this.loading.set(!0),this.deliveriesService.getClientTracking(n).pipe(M(()=>this.loading.set(!1))).subscribe({next:o=>{this.deliveryInfo.set(o),this.clientName.set("")},error:o=>{this.toastService.error(o.userMessage||"Error cargando seguimiento")}})}refreshTracking(){let n=this.route.snapshot.paramMap.get("clientId"),o=this.clientId||n;o&&this.loadClientTracking(o)}requestCallback(n){this.toastService.success("Solicitud enviada. Te contactaremos pronto.")}toggleFaq(n){this.openFaq()===n?this.openFaq.set(""):this.openFaq.set(n)}getStatusClass(n){switch(n){case"En producci\xF3n":return"production";case"En camino":return"shipping";case"Lista para entrega":return"ready";case"Entregada":return"delivered";default:return"production"}}getStatusIcon(n){switch(n){case"En producci\xF3n":return"\u{1F3ED}";case"En camino":return"\u{1F6A2}";case"Lista para entrega":return"\u2705";case"Entregada":return"\u{1F389}";default:return"\u{1F4E6}"}}getProgressPercentage(n){switch(n){case"En producci\xF3n":return 25;case"En camino":return 60;case"Lista para entrega":return 90;case"Entregada":return 100;default:return 10}}isTimelineStepCompleted(n,o){let d=["ordered","production","shipping","ready","delivered"],p=this.getStatusIndex(n),C=d.indexOf(o);return p>C}isTimelineStepCurrent(n,o){let d=["ordered","production","shipping","ready","delivered"],p=this.getStatusIndex(n),C=d.indexOf(o);return p===C}getStatusIndex(n){switch(n){case"En producci\xF3n":return 1;case"En camino":return 2;case"Lista para entrega":return 3;case"Entregada":return 4;default:return 0}}trackByOrderId(n,o){return o.orderId}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=E({type:a,selectors:[["app-client-tracking"]],inputs:{clientId:"clientId"},standalone:!0,features:[I],decls:42,vars:6,consts:[[1,"client-tracking-container"],[1,"tracking-header"],[1,"header-content"],[1,"tracking-title"],["class","tracking-subtitle",4,"ngIf"],[1,"btn-refresh",3,"click","disabled"],["class","loading-section",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","tracking-cards",4,"ngIf"],[1,"contact-section"],[1,"contact-card"],[1,"contact-methods"],[1,"contact-method"],[1,"contact-icon"],[1,"contact-info"],[1,"contact-label"],[1,"contact-value"],[1,"tracking-subtitle"],[1,"loading-section"],[1,"loading-spinner"],[1,"empty-state"],[1,"empty-icon"],[1,"tracking-cards"],["class","delivery-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"delivery-card"],[1,"card-header"],[1,"order-info"],[1,"order-title"],[1,"order-number"],[1,"status-badge"],[1,"progress-section"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-labels"],[1,"progress-start"],[1,"progress-end"],[1,"main-message"],[1,"status-message"],["class","eta-section",4,"ngIf"],["class","delivered-section",4,"ngIf"],["class","action-section",4,"ngIf"],[1,"simple-timeline"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-content"],["class","faq-section",4,"ngIf"],[1,"eta-section"],[1,"eta-icon"],[1,"eta-content"],[1,"eta-label"],[1,"eta-value"],[1,"delivered-section"],[1,"celebration-icon"],[1,"delivered-message"],[1,"action-section"],[1,"schedule-notice"],[1,"notice-icon"],[1,"notice-content"],[1,"btn-contact",3,"click"],[1,"faq-section"],[1,"faq-toggle",3,"click"],["class","faq-content",4,"ngIf"],[1,"faq-content"],[1,"faq-item"]],template:function(o,d){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4,"\u{1F4E6} Seguimiento de tu Vagoneta"),t(),g(5,N,2,1,"p",4),t(),e(6,"button",5),_("click",function(){return d.refreshTracking()}),i(7),t()(),g(8,A,4,0,"div",6)(9,B,7,0,"div",7)(10,W,2,2,"div",8),e(11,"div",9)(12,"div",10)(13,"h3"),i(14,"\xBFNecesitas ayuda?"),t(),e(15,"p"),i(16,"Si tienes preguntas sobre tu pedido, cont\xE1ctanos:"),t(),e(17,"div",11)(18,"div",12)(19,"span",13),i(20,"\u{1F4DE}"),t(),e(21,"div",14)(22,"span",15),i(23,"Tel\xE9fono"),t(),e(24,"span",16),i(25,"449 123 4567"),t()()(),e(26,"div",12)(27,"span",13),i(28,"\u{1F4AC}"),t(),e(29,"div",14)(30,"span",15),i(31,"WhatsApp"),t(),e(32,"span",16),i(33,"449 123 4567"),t()()(),e(34,"div",12)(35,"span",13),i(36,"\u2709\uFE0F"),t(),e(37,"div",14)(38,"span",15),i(39,"Email"),t(),e(40,"span",16),i(41,"soporte@conductores.mx"),t()()()()()()()),o&2&&(r(5),c("ngIf",d.clientName()),r(),c("disabled",d.loading()),r(),v(" ",d.loading()?"\u23F3":"\u{1F504}"," Actualizar "),r(),c("ngIf",d.loading()),r(),c("ngIf",!d.loading()&&d.deliveryInfo().length===0),r(),c("ngIf",!d.loading()&&d.deliveryInfo().length>0))},dependencies:[D,T,w],styles:['.client-tracking-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:24px;background:#f8fafc;min-height:100vh}.tracking-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 4px #0000000d;margin-bottom:24px}.tracking-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0 0 8px;color:#1f2937}.tracking-subtitle[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:16px}.btn-refresh[_ngcontent-%COMP%]{padding:10px 20px;background:#06d6a0;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s}.btn-refresh[_ngcontent-%COMP%]:hover:not(:disabled){background:#059669}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.loading-section[_ngcontent-%COMP%]{text-align:center;padding:64px;background:#fff;border-radius:12px;box-shadow:0 2px 4px #0000000d}.loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-left-color:#06d6a0;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:64px;background:#fff;border-radius:12px;box-shadow:0 2px 4px #0000000d}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#6b7280}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#9ca3af}.tracking-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.delivery-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 6px #0000000d;overflow:hidden;border:1px solid #e5e7eb}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 24px 0}.order-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0 0 4px;color:#1f2937}.order-number[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;font-family:monospace}.status-badge[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-size:14px;font-weight:600;color:#fff}.status-production[_ngcontent-%COMP%]{background:#f59e0b}.status-shipping[_ngcontent-%COMP%]{background:#3b82f6}.status-ready[_ngcontent-%COMP%]{background:#10b981}.status-delivered[_ngcontent-%COMP%]{background:#059669}.progress-section[_ngcontent-%COMP%]{padding:24px}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden;margin-bottom:12px}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#06d6a0,#10b981);border-radius:4px;transition:width .5s ease}.progress-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#6b7280}.main-message[_ngcontent-%COMP%]{padding:0 24px 24px}.status-message[_ngcontent-%COMP%]{font-size:18px;color:#1f2937;margin:0 0 20px;line-height:1.5}.eta-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;background:#f0f9ff;padding:16px;border-radius:8px;border-left:4px solid #06d6a0}.eta-icon[_ngcontent-%COMP%]{font-size:24px}.eta-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.eta-label[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.eta-value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937}.delivered-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;background:#f0fdf4;padding:20px;border-radius:8px;border-left:4px solid #10b981}.celebration-icon[_ngcontent-%COMP%]{font-size:32px}.delivered-message[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#059669;margin:0}.action-section[_ngcontent-%COMP%]{padding:0 24px 24px}.schedule-notice[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;background:#fefce8;padding:16px;border-radius:8px;border-left:4px solid #f59e0b;margin-bottom:16px}.notice-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.notice-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#92400e;font-size:16px}.notice-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#a16207;font-size:14px}.btn-contact[_ngcontent-%COMP%]{width:100%;padding:12px 20px;background:#06d6a0;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s}.btn-contact[_ngcontent-%COMP%]:hover{background:#059669}.simple-timeline[_ngcontent-%COMP%]{padding:24px;background:#f9fafb;border-top:1px solid #e5e7eb}.timeline-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:16px 0;position:relative}.timeline-item[_ngcontent-%COMP%]:not(:last-child):after{content:"";position:absolute;left:11px;top:48px;width:2px;height:calc(100% - 16px);background:#e5e7eb}.timeline-item.completed[_ngcontent-%COMP%]:after{background:#10b981}.timeline-dot[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;background:#e5e7eb;flex-shrink:0;position:relative;z-index:1}.timeline-item.completed[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{background:#10b981}.timeline-item.current[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{background:#06d6a0;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.timeline-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 4px;color:#1f2937;font-size:14px}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:12px}.timeline-item.completed[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#059669}.timeline-item.current[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#06d6a0;font-weight:600}.faq-section[_ngcontent-%COMP%]{padding:0 24px 24px;border-top:1px solid #e5e7eb}.faq-toggle[_ngcontent-%COMP%]{width:100%;padding:16px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px;cursor:pointer;font-weight:600;color:#1f2937;transition:all .2s}.faq-toggle[_ngcontent-%COMP%]:hover{background:#f3f4f6}.faq-toggle.active[_ngcontent-%COMP%]{background:#eff6ff;border-color:#3b82f6;color:#1d4ed8}.faq-content[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:#eff6ff;border-radius:8px;border:1px solid #dbeafe}.faq-item[_ngcontent-%COMP%]{margin-bottom:16px}.faq-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.faq-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e40af;font-size:14px}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-size:13px;line-height:1.4}.contact-section[_ngcontent-%COMP%]{margin-top:32px}.contact-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 4px #0000000d;border:1px solid #e5e7eb}.contact-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#1f2937;font-size:18px}.contact-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#6b7280}.contact-methods[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.contact-method[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px;background:#f9fafb;border-radius:8px}.contact-icon[_ngcontent-%COMP%]{font-size:24px}.contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.contact-label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-weight:600}.contact-value[_ngcontent-%COMP%]{font-size:14px;color:#1f2937;font-weight:600}@media (max-width: 768px){.client-tracking-container[_ngcontent-%COMP%]{padding:16px}.tracking-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.contact-methods[_ngcontent-%COMP%]{gap:12px}.contact-method[_ngcontent-%COMP%]{padding:16px}}']})}}return a})();export{ne as ClientTrackingComponent};
