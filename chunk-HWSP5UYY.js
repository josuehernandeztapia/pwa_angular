import{a as ce}from"./chunk-AIYREKCX.js";import"./chunk-FK6H3RFT.js";import{a as se}from"./chunk-PH3HD2HQ.js";import{m as W}from"./chunk-SCHFUJ5K.js";import{a as le}from"./chunk-YNTR5Z62.js";import"./chunk-ULB2DFX5.js";import{a as ae}from"./chunk-YYSQDTD3.js";import"./chunk-QCEAPM7G.js";import{b as L,c as f,d as R,e as q,g as U,h as Y,i as H,l as J,m as Q,n as K,o as Z,p as ee,q as te,r as ne,t as ie,u as oe,v as re}from"./chunk-S2UEMBMO.js";import{Ea as a,Fa as v,Sa as b,Ua as _,Va as z,Wa as O,Xa as I,Xb as X,Ya as n,Yb as j,Za as t,_a as A,ac as $,bb as M,bc as G,cb as m,db as c,ea as F,hb as N,ib as i,jb as p,kb as P,ma as s,na as d,ob as E,pb as k,qb as D,sb as B,vb as x,yb as h}from"./chunk-5IDTUAMZ.js";import"./chunk-DM275RSA.js";function de(l,g){if(l&1){let e=M();n(0,"div",31)(1,"span",32),i(2),t(),n(3,"input",33),D("ngModelChange",function(o){let u=s(e).index,C=c(3);return k(C.consumptions[u],o)||(C.consumptions[u]=o),d(o)}),t(),n(4,"button",34),m("click",function(){let o=s(e).index,u=c(3);return d(u.removePlate(o))}),i(5,"\xD7"),t()()}if(l&2){let e=g.$implicit,r=g.index,o=c(3);a(2),p(e),a(),E("ngModel",o.consumptions[r])}}function me(l,g){if(l&1&&(n(0,"div",29),b(1,de,6,2,"div",30),t()),l&2){let e=c(2);a(),_("ngForOf",e.plates)}}function pe(l,g){if(l&1&&(n(0,"div",56),A(1,"div",57),n(2,"div",58)(3,"span",59),i(4),t(),n(5,"span",60),i(6),t(),n(7,"span",61),i(8),x(9,"currency"),t()()()),l&2){let e=g.$implicit,r=c(3);I(r.getTimelineClass(e)),a(4),P("Mes ",e.month,""),a(2),p(e.event),a(2),p(h(9,5,e.amount,"MXN","symbol","1.0-0"))}}function ue(l,g){if(l&1&&(n(0,"div",62),x(1,"currency"),n(2,"span",63),i(3),t()()),l&2){let e=g.$implicit,r=g.index,o=c(3);z("height",e/o.currentScenario.targetAmount*100,"%"),_("title","Mes "+(r+1)+": "+h(1,4,e,"MXN","symbol","1.0-0")),a(3),p(r+1)}}function ge(l,g){if(l&1){let e=M();n(0,"div",64)(1,"div",65)(2,"button",66),m("click",function(){s(e);let o=c(3);return d(o.speakSummary())}),i(3,"\u{1F50A} Escuchar"),t(),n(4,"button",67),m("click",function(){s(e);let o=c(3);return d(o.shareWhatsApp())}),i(5,"\u{1F4F1} WhatsApp"),t(),n(6,"button",68),m("click",function(){s(e);let o=c(3);return d(o.proceedWithScenario())}),i(7,"\u2705 Continuar"),t(),n(8,"button",69),m("click",function(){s(e);let o=c(3);return d(o.resetSimulation())}),i(9,"\u{1F504} Nuevo"),t()()()}}function _e(l,g){if(l&1){let e=M();n(0,"div",70)(1,"div",71)(2,"h4"),i(3,"\u{1F6E0}\uFE0F Herramientas Avanzadas"),t(),n(4,"div",72)(5,"div",73)(6,"span"),i(7,"\u{1F4B0} Financiamiento del Remanente"),t(),n(8,"span",74),i(9),x(10,"currency"),t()(),n(11,"button",75),m("click",function(){s(e);let o=c(3);return d(o.calculateAmortization())}),i(12," \u{1F4CA} Calcular Tabla de Amortizaci\xF3n "),t()(),n(13,"div",72)(14,"div",73)(15,"span"),i(16,"\u{1F6E1}\uFE0F Simulador de Protecci\xF3n"),t(),n(17,"span",76),i(18,"Para imprevistos"),t()(),n(19,"button",77),m("click",function(){s(e);let o=c(3);return d(o.showProtectionDemo=!0)}),i(20," \u{1F510} Ver Protecci\xF3n Conductores "),t()(),n(21,"div",78)(22,"button",79),m("click",function(){s(e);let o=c(3);return d(o.proceedWithScenario())}),i(23,"\u2705 Continuar con este Plan"),t(),n(24,"button",80),m("click",function(){s(e);let o=c(3);return d(o.generatePDF())}),i(25,"\u{1F4C4} Descargar PDF"),t(),n(26,"button",81),m("click",function(){s(e);let o=c(3);return d(o.resetSimulation())}),i(27,"\u{1F504} Nueva Simulaci\xF3n"),t()()()()}if(l&2){let e=c(3);a(9),p(h(10,2,e.remainderAmount,"MXN","symbol","1.0-0")),a(2),_("disabled",e.remainderAmount<=0)}}function xe(l,g){if(l&1&&(n(0,"tr")(1,"td"),i(2),t(),n(3,"td"),i(4),x(5,"currency"),t(),n(6,"td",93),i(7),x(8,"currency"),t(),n(9,"td",94),i(10),x(11,"currency"),t(),n(12,"td"),i(13),x(14,"currency"),t()()),l&2){let e=g.$implicit;O("highlight",e.paymentNumber===1),a(2),p(e.paymentNumber),a(2),p(h(5,7,e.monthlyPayment,"MXN","symbol","1.0-0")),a(3),p(h(8,12,e.principal,"MXN","symbol","1.0-0")),a(3),p(h(11,17,e.interest,"MXN","symbol","1.0-0")),a(3),p(h(14,22,e.balance,"MXN","symbol","1.0-0"))}}function he(l,g){if(l&1){let e=M();n(0,"div",82)(1,"div",83)(2,"div",84)(3,"h4"),i(4,"\u{1F4CA} Tabla de Amortizaci\xF3n del Remanente"),t(),n(5,"button",85),m("click",function(){s(e);let o=c(3);return d(o.showAmortizationTable=!1)}),i(6,"\xD7"),t()(),n(7,"div",86)(8,"div",87)(9,"span"),i(10,"Monto a financiar:"),t(),n(11,"strong"),i(12),x(13,"currency"),t()(),n(14,"div",87)(15,"span"),i(16,"Tasa anual AGS:"),t(),n(17,"strong"),i(18,"25.5%"),t()(),n(19,"div",87)(20,"span"),i(21,"Plazo t\xEDpico:"),t(),n(22,"strong"),i(23,"24 meses"),t()(),n(24,"div",88)(25,"span"),i(26,"Pago mensual estimado:"),t(),n(27,"strong"),i(28),x(29,"currency"),t()()(),n(30,"div",89)(31,"table",90)(32,"thead")(33,"tr")(34,"th"),i(35,"# Pago"),t(),n(36,"th"),i(37,"Pago Mensual"),t(),n(38,"th"),i(39,"Capital"),t(),n(40,"th"),i(41,"Inter\xE9s"),t(),n(42,"th"),i(43,"Saldo"),t()()(),n(44,"tbody"),b(45,xe,15,27,"tr",91),t()(),n(46,"div",92)(47,"small"),i(48,"* Se muestran los primeros 12 pagos. Total: 24 meses"),t()()()()()}if(l&2){let e=c(3);a(12),p(h(13,3,e.remainderAmount,"MXN","symbol","1.0-0")),a(16),p(h(29,8,e.amortizationTable[0]==null?null:e.amortizationTable[0].monthlyPayment,"MXN","symbol","1.0-0")),a(17),_("ngForOf",e.amortizationTable.slice(0,12))}}function be(l,g){if(l&1){let e=M();n(0,"div",35)(1,"h3"),i(2,"\u{1F4C8} Proyecci\xF3n de Ahorro AGS"),t(),n(3,"div",36)(4,"div",37)(5,"div",38),i(6,"\u{1F3AF}"),t(),n(7,"div",39)(8,"span",40),i(9,"Meta Total"),t(),n(10,"span",41),i(11),x(12,"currency"),t()()(),n(13,"div",42)(14,"div",38),i(15,"\u23F1\uFE0F"),t(),n(16,"div",39)(17,"span",40),i(18,"Tiempo"),t(),n(19,"span",41),i(20),t()()(),n(21,"div",42)(22,"div",38),i(23,"\u{1F4B0}"),t(),n(24,"div",39)(25,"span",40),i(26,"Recaudaci\xF3n Mensual"),t(),n(27,"span",41),i(28),x(29,"currency"),t()()(),n(30,"div",42)(31,"div",38),i(32),t(),n(33,"div",39)(34,"span",40),i(35),t(),n(36,"span",41),i(37),x(38,"currency"),t()()()(),n(39,"div",43)(40,"h4"),i(41,"\u{1F4C5} Cronolog\xEDa de Ahorro"),t(),n(42,"div",44),b(43,pe,10,10,"div",45),t()(),n(44,"div",46)(45,"h4"),i(46,"\u{1F4CA} Proyecci\xF3n de Balance"),t(),n(47,"div",47),b(48,ue,4,9,"div",48),t(),n(49,"div",49)(50,"span"),i(51),x(52,"currency"),t()()(),n(53,"div",50)(54,"div",51)(55,"button",52),m("click",function(){s(e);let o=c(2);return d(o.toggleViewMode())}),i(56),t()(),b(57,ge,10,0,"div",53)(58,_e,28,7,"div",54),t(),b(59,he,49,13,"div",55),t()}if(l&2){let e=c(2);a(11),p(h(12,17,e.currentScenario.targetAmount,"MXN","symbol","1.0-0")),a(9),P("",e.currentScenario.monthsToTarget," meses"),a(8),p(h(29,22,e.currentScenario.monthlyContribution,"MXN","symbol","1.0-0")),a(2),O("success",e.remainderAmount<=0)("warning",e.remainderAmount>0),a(2),p(e.remainderAmount<=0?"\u2705":"\u26A0\uFE0F"),a(3),p(e.remainderAmount<=0?"Ahorro Completo":"Remanente"),a(2),p(h(38,27,e.remainderAmount,"MXN","symbol","1.0-0")),a(6),_("ngForOf",e.displayTimeline),a(5),_("ngForOf",e.currentScenario.projectedBalance),a(3),P("Meta: ",h(52,32,e.currentScenario.targetAmount,"MXN","symbol","1.0-0"),""),a(5),P(" ",e.currentViewMode==="simple"?"\u{1F52C} Vista Avanzada":"\u{1F4F1} Vista Simple"," "),a(),_("ngIf",e.currentViewMode==="simple"),a(),_("ngIf",e.currentViewMode==="advanced"),a(),_("ngIf",e.showAmortizationTable)}}function fe(l,g){if(l&1){let e=M();n(0,"div",6)(1,"div",7)(2,"form",8)(3,"div",9)(4,"h3"),i(5,"\u{1F690} Configuraci\xF3n de Unidad"),t(),n(6,"div",10)(7,"label"),i(8,"Valor Total de la Unidad"),t(),n(9,"div",11)(10,"span"),i(11,"$"),t(),n(12,"input",12),m("input",function(){s(e);let o=c();return d(o.onConfigChange())}),t()(),n(13,"small"),i(14,"Precio t\xEDpico AGS: $799,000 (vagoneta + GNV)"),t()(),n(15,"div",10)(16,"label"),i(17,"Enganche Inicial Disponible"),t(),n(18,"div",11)(19,"span"),i(20,"$"),t(),n(21,"input",13),m("input",function(){s(e);let o=c();return d(o.onConfigChange())}),t()(),n(22,"small"),i(23,"Monto que tienes disponible ahora"),t()(),n(24,"div",10)(25,"label"),i(26,"Meses Estimados para Entrega"),t(),n(27,"select",14),m("change",function(){s(e);let o=c();return d(o.onConfigChange())}),n(28,"option",15),i(29,"Seleccionar"),t(),n(30,"option",16),i(31,"3 meses (entrega r\xE1pida)"),t(),n(32,"option",17),i(33,"6 meses (est\xE1ndar)"),t(),n(34,"option",18),i(35,"9 meses (planificado)"),t(),n(36,"option",19),i(37,"12 meses (extendido)"),t()()()(),n(38,"div",9)(39,"h3"),i(40,"\u26FD Configuraci\xF3n de Recaudaci\xF3n"),t(),n(41,"div",20)(42,"label"),i(43,"Placas de Unidades Actuales"),t(),n(44,"div",21)(45,"input",22,0),D("ngModelChange",function(o){s(e);let u=c();return k(u.newPlate,o)||(u.newPlate=o),d(o)}),m("keyup.enter",function(){s(e);let o=c();return d(o.addPlate())}),t(),n(47,"button",23),m("click",function(){s(e);let o=N(46);return c().addPlate(),d(o.value="")}),i(48,"+ Agregar"),t()(),b(49,me,2,1,"div",24),t(),n(50,"div",10)(51,"label"),i(52,"Sobreprecio por Litro"),t(),n(53,"div",11)(54,"span"),i(55,"$"),t(),n(56,"input",25),m("input",function(){s(e);let o=c();return d(o.onConfigChange())}),t()(),n(57,"small"),i(58,"Cantidad extra por litro que vas a ahorrar"),t()()(),n(59,"div",26)(60,"button",27),m("click",function(){s(e);let o=c();return d(o.simulateScenario())}),i(61),t()()()(),b(62,be,60,37,"div",28),t()}if(l&2){let e=c();a(2),_("formGroup",e.simuladorForm),a(43),E("ngModel",e.newPlate),a(4),_("ngIf",e.plates.length>0),a(11),_("disabled",!e.canSimulate()),a(),P(" ",e.isSimulating?"Simulando...":"\u{1F4CA} Simular Escenario"," "),a(),_("ngIf",e.currentScenario)}}function Ce(l,g){l&1&&(n(0,"div",95),A(1,"div",96),n(2,"p"),i(3,"Calculando escenario de ahorro AGS..."),t()())}var De=(()=>{class l{constructor(e,r,o,u,C,S){this.fb=e,this.router=r,this.simuladorEngine=o,this.toast=u,this.cotizadorEngine=C,this.pdfExport=S,this.plates=[],this.consumptions=[],this.newPlate="",this.isLoading=!1,this.isSimulating=!1,this.amortizationTable=[],this.showAmortizationTable=!1,this.showWhatsAppShare=!1,this.currentViewMode="simple",this.showProtectionDemo=!1,this.createForm()}ngOnInit(){this.loadDefaultValues()}createForm(){this.simuladorForm=this.fb.group({unitValue:[799e3,[f.required,f.min(7e5)]],initialDownPayment:[4e5,[f.required,f.min(0)]],deliveryMonths:[6,f.required],overpricePerLiter:[5,[f.required,f.min(1)]]})}loadDefaultValues(){this.plates=["ABC-1234"],this.consumptions=[2500]}addPlate(){this.newPlate.trim()&&(this.plates.push(this.newPlate.trim().toUpperCase()),this.consumptions.push(2500),this.newPlate="",this.onConfigChange())}removePlate(e){this.plates.splice(e,1),this.consumptions.splice(e,1),this.onConfigChange()}onConfigChange(){this.currentScenario=void 0}simulateScenario(){if(!this.canSimulate())return;let e=this.simuladorForm.value;this.isSimulating=!0;try{let r=this.simuladorEngine.generateAGSLiquidationScenario(e.initialDownPayment,e.deliveryMonths,this.plates,this.consumptions,e.overpricePerLiter,e.unitValue);this.currentScenario=r,this.toast.success("Escenario AGS simulado exitosamente"),this.isSimulating=!1}catch{this.toast.error("Error al simular escenario AGS"),this.isSimulating=!1}}proceedWithScenario(){this.currentScenario&&(sessionStorage.setItem("agsScenario",JSON.stringify(this.currentScenario)),this.toast.success("Escenario guardado, creando cliente..."),this.router.navigate(["/clientes/nuevo"],{queryParams:{fromSimulator:"ags-ahorro",market:"aguascalientes",flow:"AhorroProgramado"}}))}resetSimulation(){this.currentScenario=void 0,this.toast.info("Simulaci\xF3n limpiada")}goBack(){this.router.navigate(["/"])}generatePDF(){if(!this.currentScenario){this.toast.error("Primero ejecuta la simulaci\xF3n");return}let e=this.simuladorForm.value,r={targetAmount:this.currentScenario.targetAmount,monthsToTarget:this.currentScenario.monthsToTarget,monthlyContribution:this.currentScenario.monthlyContribution,projectedBalance:this.currentScenario.projectedBalance,timeline:this.currentScenario.timeline,plates:this.plates,consumptions:this.consumptions,overpricePerLiter:e.overpricePerLiter,remainderAmount:this.remainderAmount};this.pdfExport.generateAGSSavingsPDF(r).then(o=>{let u=`simulacion-ags-ahorro-${new Date().getTime()}.pdf`;this.pdfExport.downloadPDF(o,u),this.toast.success("PDF de simulaci\xF3n descargado")}).catch(o=>{this.toast.error("Error al generar PDF"),console.error("PDF Error:",o)})}canSimulate(){return this.simuladorForm.valid&&this.plates.length>0&&this.consumptions.every(e=>e>0)&&!this.isSimulating}get remainderAmount(){if(!this.currentScenario)return 0;let e=this.simuladorForm.value.initialDownPayment+this.currentScenario.monthlyContribution*this.currentScenario.monthsToTarget;return Math.max(0,this.currentScenario.targetAmount-e)}get displayTimeline(){return this.currentScenario?.timeline.slice(0,8)||[]}getTimelineClass(e){return e.amount<0?"negative":e.event.includes("Entrega")?"positive":""}calculateAmortization(){if(!this.currentScenario)return;let e=this.remainderAmount;if(e<=0){this.toast.info("No hay monto a financiar para calcular amortizaci\xF3n");return}let r=.255,o=24,u=r/12,C=e*u/(1-Math.pow(1+u,-o)),S=[],w=e;for(let y=1;y<=o;y++){let V=w*u,T=C-V;w-=T,S.push({paymentNumber:y,monthlyPayment:C,principal:T,interest:V,balance:w>0?w:0})}this.amortizationTable=S,this.showAmortizationTable=!0,this.toast.success("Tabla de amortizaci\xF3n calculada")}toggleViewMode(){this.currentViewMode=this.currentViewMode==="simple"?"advanced":"simple"}shareWhatsApp(){if(!this.currentScenario)return;let e=this.generateWhatsAppMessage(),r=`https://wa.me/?text=${encodeURIComponent(e)}`;window.open(r,"_blank")}generateWhatsAppMessage(){if(!this.currentScenario)return"";let e=new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"});return`\u{1F335} *Simulaci\xF3n AGS Ahorro Programado*

\u{1F4CA} *Resumen del Plan:*
\u2022 Meta: ${e.format(this.currentScenario.targetAmount)}
\u2022 Enganche inicial: ${e.format(this.simuladorForm.value.initialDownPayment)}
\u2022 Ahorro mensual: ${e.format(this.currentScenario.monthlyContribution)}
\u2022 Tiempo estimado: ${this.currentScenario.monthsToTarget} meses
\u2022 Remanente a liquidar: ${e.format(this.remainderAmount)}

\u{1F690} *Placas incluidas:* ${this.plates.join(", ")}
\u26FD *Sobreprecio por litro:* $${this.simuladorForm.value.overpricePerLiter}

\xBFTe interesa formalizar este plan? \xA1Cont\xE1ctanos!`}speakSummary(){if(!this.currentScenario)return;let e=new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}),r=`Simulaci\xF3n de ahorro AGS completada. 
    Tu meta es ${e.format(this.currentScenario.targetAmount)}. 
    Con tu enganche inicial de ${e.format(this.simuladorForm.value.initialDownPayment)} 
    y ahorrando ${e.format(this.currentScenario.monthlyContribution)} pesos mensuales, 
    lograr\xE1s tu objetivo en ${this.currentScenario.monthsToTarget} meses. 
    Quedar\xEDa un remanente de ${e.format(this.remainderAmount)} pesos para liquidar.`;if("speechSynthesis"in window){let o=new SpeechSynthesisUtterance(r);o.lang="es-MX",o.rate=.8,speechSynthesis.speak(o)}else this.toast.info("Tu navegador no soporta s\xEDntesis de voz")}formatCurrency(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e)}static{this.\u0275fac=function(r){return new(r||l)(v(ie),v(W),v(se),v(ae),v(le),v(ce))}}static{this.\u0275cmp=F({type:l,selectors:[["app-ags-ahorro"]],standalone:!0,features:[B],decls:10,vars:2,consts:[["plateInput",""],[1,"ags-ahorro-simulator"],[1,"simulator-header"],[1,"back-btn",3,"click"],["class","simulator-content",4,"ngIf"],["class","loading",4,"ngIf"],[1,"simulator-content"],[1,"config-panel"],[3,"formGroup"],[1,"section"],[1,"form-group"],[1,"currency-input"],["type","number","formControlName","unitValue","min","700000","max","1000000","placeholder","799000",3,"input"],["type","number","formControlName","initialDownPayment","min","0","placeholder","400000",3,"input"],["formControlName","deliveryMonths",3,"change"],["value",""],["value","3"],["value","6"],["value","9"],["value","12"],[1,"plates-section"],[1,"plates-input"],["type","text","placeholder","ABC-1234",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"add-btn",3,"click"],["class","plates-list",4,"ngIf"],["type","number","formControlName","overpricePerLiter","min","1","max","20","step","0.5","placeholder","5.00",3,"input"],[1,"form-actions"],["type","button",1,"simulate-btn",3,"click","disabled"],["class","results-panel",4,"ngIf"],[1,"plates-list"],["class","plate-item",4,"ngFor","ngForOf"],[1,"plate-item"],[1,"plate-number"],["type","number","min","0","max","10000","placeholder","Litros/mes",3,"ngModelChange","ngModel"],["type","button",1,"remove-btn",3,"click"],[1,"results-panel"],[1,"metrics-grid"],[1,"metric-card","highlight"],[1,"metric-icon"],[1,"metric-content"],[1,"metric-label"],[1,"metric-value"],[1,"metric-card"],[1,"timeline-section"],[1,"timeline"],["class","timeline-item",3,"class",4,"ngFor","ngForOf"],[1,"chart-section"],[1,"balance-chart"],["class","balance-bar",3,"height","title",4,"ngFor","ngForOf"],[1,"chart-target-line"],[1,"enhanced-actions"],[1,"view-toggle"],[1,"toggle-btn",3,"click"],["class","simple-actions",4,"ngIf"],["class","advanced-actions",4,"ngIf"],["class","amortization-modal",4,"ngIf"],[1,"timeline-item"],[1,"timeline-marker"],[1,"timeline-content"],[1,"timeline-month"],[1,"timeline-event"],[1,"timeline-amount"],[1,"balance-bar",3,"title"],[1,"bar-label"],[1,"simple-actions"],[1,"action-grid"],[1,"action-btn","voice-btn",3,"click"],[1,"action-btn","whatsapp-btn",3,"click"],[1,"action-btn","proceed-btn",3,"click"],[1,"action-btn","reset-btn",3,"click"],[1,"advanced-actions"],[1,"advanced-tools"],[1,"tool-section"],[1,"tool-header"],[1,"remainder-amount"],[1,"tool-btn",3,"click","disabled"],[1,"protection-label"],[1,"tool-btn",3,"click"],[1,"traditional-actions"],[1,"proceed-btn",3,"click"],[1,"pdf-btn",3,"click"],[1,"reset-btn",3,"click"],[1,"amortization-modal"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"amortization-summary"],[1,"summary-row"],[1,"summary-row","highlight"],[1,"table-container"],[1,"amortization-table"],[3,"highlight",4,"ngFor","ngForOf"],[1,"table-note"],[1,"principal"],[1,"interest"],[1,"loading"],[1,"spinner"]],template:function(r,o){r&1&&(n(0,"div",1)(1,"div",2)(2,"button",3),m("click",function(){return o.goBack()}),i(3,"\u2190 Volver"),t(),n(4,"h1"),i(5,"\u{1F335} Simulador AGS Ahorro"),t(),n(6,"p"),i(7,"Proyecta tu ahorro, calcula liquidaci\xF3n en entrega"),t()(),b(8,fe,63,6,"div",4)(9,Ce,4,0,"div",5),t()),r&2&&(a(8),_("ngIf",!o.isLoading),a(),_("ngIf",o.isLoading))},dependencies:[G,X,j,$,oe,Y,Z,ee,L,H,K,R,q,ne,te,U,re,J,Q],styles:['.ags-ahorro-simulator[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:24px;background:#f8fafc;min-height:100vh}.simulator-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.back-btn[_ngcontent-%COMP%]{display:inline-block;margin-bottom:16px;padding:8px 16px;background:#e2e8f0;border:none;border-radius:6px;cursor:pointer;transition:background .2s}.back-btn[_ngcontent-%COMP%]:hover{background:#cbd5e1}.simulator-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin:0 0 8px}.simulator-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.simulator-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:32px;align-items:start}@media (max-width: 1200px){.simulator-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}.config-panel[_ngcontent-%COMP%], .results-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px -1px #0000001a;padding:24px}.section[_ngcontent-%COMP%]{margin-bottom:24px}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#374151;margin-bottom:16px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:6px;color:#374151}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:16px}.currency-input[_ngcontent-%COMP%]{position:relative}.currency-input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#6b7280;font-weight:500}.currency-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:4px;font-size:12px;color:#6b7280}.plates-section[_ngcontent-%COMP%]{margin-bottom:16px}.plates-input[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:12px}.plates-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.add-btn[_ngcontent-%COMP%]{padding:10px 16px;background:#059669;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500}.add-btn[_ngcontent-%COMP%]:hover{background:#047857}.plates-list[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:6px;padding:12px;background:#f8fafc}.plate-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr auto;gap:8px;align-items:center;padding:8px 0;border-bottom:1px solid #e5e7eb}.plate-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.plate-number[_ngcontent-%COMP%]{font-weight:500;color:#374151}.remove-btn[_ngcontent-%COMP%]{width:28px;height:28px;background:#dc2626;color:#fff;border:none;border-radius:50%;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center}.remove-btn[_ngcontent-%COMP%]:hover{background:#b91c1c}.form-actions[_ngcontent-%COMP%]{margin-top:24px}.simulate-btn[_ngcontent-%COMP%]{width:100%;padding:14px;background:#3b82f6;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:16px;cursor:pointer;transition:background .2s}.simulate-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.simulate-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.results-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#374151;margin-bottom:24px}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:24px}.metric-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;border:1px solid #e5e7eb;border-radius:8px;background:#f8fafc}.metric-card.highlight[_ngcontent-%COMP%]{background:#eff6ff;border-color:#3b82f6}.metric-card.success[_ngcontent-%COMP%]{background:#f0fdf4;border-color:#059669}.metric-card.warning[_ngcontent-%COMP%]{background:#fef3c7;border-color:#f59e0b}.metric-icon[_ngcontent-%COMP%]{font-size:24px;width:40px;text-align:center}.metric-content[_ngcontent-%COMP%]{flex:1}.metric-label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#6b7280;margin-bottom:2px}.metric-value[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:600;color:#374151}.timeline-section[_ngcontent-%COMP%], .chart-section[_ngcontent-%COMP%]{margin-bottom:24px}.timeline-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .chart-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#374151;margin-bottom:12px}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:20px}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:10px;top:0;bottom:0;width:2px;background:#d1d5db}.timeline-item[_ngcontent-%COMP%]{position:relative;padding:12px 0 12px 24px}.timeline-marker[_ngcontent-%COMP%]{position:absolute;left:-14px;top:16px;width:8px;height:8px;background:#3b82f6;border-radius:50%}.timeline-item.negative[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]{background:#dc2626}.timeline-item.positive[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]{background:#059669}.timeline-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.timeline-month[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;min-width:60px}.timeline-event[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#374151;margin:0 12px}.timeline-amount[_ngcontent-%COMP%]{font-weight:600;color:#059669}.timeline-item.negative[_ngcontent-%COMP%]   .timeline-amount[_ngcontent-%COMP%]{color:#dc2626}.balance-chart[_ngcontent-%COMP%]{display:flex;align-items:end;gap:4px;height:120px;padding:12px;background:#f8fafc;border-radius:6px;overflow-x:auto}.balance-bar[_ngcontent-%COMP%]{flex:1;min-width:24px;background:linear-gradient(to top,#3b82f6,#60a5fa);border-radius:2px 2px 0 0;position:relative;cursor:pointer;transition:all .2s}.balance-bar[_ngcontent-%COMP%]:hover{background:linear-gradient(to top,#2563eb,#3b82f6)}.bar-label[_ngcontent-%COMP%]{position:absolute;bottom:-20px;left:50%;transform:translate(-50%);font-size:10px;color:#6b7280}.chart-target-line[_ngcontent-%COMP%]{margin-top:8px;padding:8px 12px;background:#fee2e2;border-radius:4px;text-align:center;font-size:12px;font-weight:500;color:#dc2626}.results-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:24px;border-top:1px solid #e5e7eb}.proceed-btn[_ngcontent-%COMP%], .reset-btn[_ngcontent-%COMP%]{flex:1;padding:12px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s}.proceed-btn[_ngcontent-%COMP%]{background:#059669;color:#fff}.proceed-btn[_ngcontent-%COMP%]:hover{background:#047857}.reset-btn[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.reset-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.enhanced-actions[_ngcontent-%COMP%]{border-top:2px solid #e5e7eb;padding-top:24px;margin-top:24px}.view-toggle[_ngcontent-%COMP%]{margin-bottom:16px;text-align:center}.toggle-btn[_ngcontent-%COMP%]{padding:8px 16px;background:#f3f4f6;border:1px solid #d1d5db;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.toggle-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;border-color:#9ca3af}.action-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}@media (max-width: 600px){.action-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.action-btn[_ngcontent-%COMP%]{padding:12px 16px;border:none;border-radius:8px;font-weight:600;font-size:14px;cursor:pointer;transition:all .2s;text-align:center}.voice-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af);color:#fff}.voice-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translateY(-1px)}.whatsapp-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff}.whatsapp-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#16a34a,#15803d);transform:translateY(-1px)}.advanced-tools[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;color:#374151;margin-bottom:16px;font-weight:600}.tool-section[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px;margin-bottom:16px}.tool-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.tool-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:600;color:#374151}.remainder-amount[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:700}.protection-label[_ngcontent-%COMP%]{background:#dbeafe;color:#2563eb;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500}.tool-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background:#3b82f6;color:#fff;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s}.tool-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.tool-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.traditional-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:20px;padding-top:16px;border-top:1px solid #e5e7eb}.pdf-btn[_ngcontent-%COMP%]{flex:1;padding:12px;background:#3b82f6;color:#fff;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s}.pdf-btn[_ngcontent-%COMP%]:hover{background:#2563eb}.amortization-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:800px;width:100%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#374151;margin:0}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#6b7280;padding:4px}.close-btn[_ngcontent-%COMP%]:hover{color:#374151}.amortization-summary[_ngcontent-%COMP%]{padding:20px 24px;background:#f8fafc;border-bottom:1px solid #e5e7eb}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #e2e8f0}.summary-row.highlight[_ngcontent-%COMP%]{background:#fef3c7;padding:12px;border-radius:6px;border-bottom:none;margin-top:8px}.table-container[_ngcontent-%COMP%]{padding:20px 24px}.amortization-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.amortization-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f3f4f6;padding:12px 8px;text-align:left;font-weight:600;color:#374151;border-bottom:2px solid #d1d5db}.amortization-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 8px;border-bottom:1px solid #e5e7eb}.amortization-table[_ngcontent-%COMP%]   .principal[_ngcontent-%COMP%]{color:#059669;font-weight:500}.amortization-table[_ngcontent-%COMP%]   .interest[_ngcontent-%COMP%]{color:#dc2626;font-weight:500}.amortization-table[_ngcontent-%COMP%]   tr.highlight[_ngcontent-%COMP%]{background:#fef3c7}.table-note[_ngcontent-%COMP%]{text-align:center;margin-top:16px;color:#6b7280}@media (max-width: 768px){.amortization-modal[_ngcontent-%COMP%]{padding:10px}.modal-content[_ngcontent-%COMP%]{max-height:95vh}.amortization-table[_ngcontent-%COMP%]{font-size:12px}.amortization-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .amortization-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 4px}}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:64px;color:#6b7280}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f4f6;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}}return l})();export{De as AgsAhorroComponent};
