import{b as Q}from"./chunk-DYOXCRTF.js";import"./chunk-O54BG3VU.js";import"./chunk-NH6JDP7H.js";import"./chunk-XIPGL6BB.js";import{m as N,p as j}from"./chunk-SCHFUJ5K.js";import{a as X}from"./chunk-YNTR5Z62.js";import"./chunk-ULB2DFX5.js";import{a as q}from"./chunk-YYSQDTD3.js";import{a as p}from"./chunk-QCEAPM7G.js";import{d as B,g as L,n as W,o as $,p as G,u as R}from"./chunk-S2UEMBMO.js";import{Ea as l,Fa as y,Sa as x,Ua as f,Va as E,Wa as k,Xa as A,Xb as T,Ya as i,Yb as I,Za as o,_a as M,bb as S,bc as V,cb as m,db as u,ea as D,ib as a,jb as c,kb as C,lb as F,ma as _,na as v,ob as b,pb as h,qb as P,sb as z}from"./chunk-5IDTUAMZ.js";import{g as w}from"./chunk-DM275RSA.js";function H(d,g){if(d&1&&(i(0,"span",65),a(1),o()),d&2){let e=g.$implicit;l(),C(" ",e," ")}}function J(d,g){if(d&1){let e=S();i(0,"button",66),m("click",function(t){_(e);let r=u().$implicit;return u(2).advanceStage(r),v(t.stopPropagation())}),a(1," \u27A1\uFE0F Avanzar "),o()}}function Z(d,g){if(d&1){let e=S();i(0,"button",64),m("click",function(t){_(e);let r=u().$implicit;return u(2).createQuote(r),v(t.stopPropagation())}),a(1," \u{1F4CB} Cotizar "),o()}}function K(d,g){if(d&1){let e=S();i(0,"div",43),m("click",function(){let t=_(e).$implicit,r=u(2);return v(r.viewOpportunity(t))}),i(1,"div",44)(2,"h4"),a(3),o(),i(4,"div",45),a(5),o()(),i(6,"div",46)(7,"div",47)(8,"span",48),a(9,"\u{1F4CD} Mercado:"),o(),i(10,"span",49),a(11),o()(),i(12,"div",47)(13,"span",48),a(14,"\u{1F4CA} Tipo:"),o(),i(15,"span",49),a(16),o()(),i(17,"div",47)(18,"span",48),a(19,"\u{1F4B0} Valor:"),o(),i(20,"span",49),a(21),o()(),i(22,"div",47)(23,"span",48),a(24,"\u{1F4C8} Probabilidad:"),o(),i(25,"span",49),a(26),o()()(),i(27,"div",50)(28,"div",51),M(29,"div",52),o()(),i(30,"div",53)(31,"div",54)(32,"span",55),a(33,"\u{1F3AF}"),o(),i(34,"span",56),a(35),o()(),i(36,"div",57)(37,"span",58),a(38),o()()(),i(39,"div",59),x(40,H,2,1,"span",60),o(),i(41,"div",61),x(42,J,2,0,"button",62)(43,Z,2,0,"button",63),i(44,"button",64),m("click",function(t){let r=_(e).$implicit;return u(2).scheduleFollowUp(r),v(t.stopPropagation())}),a(45," \u{1F4C5} Seguimiento "),o()()()}if(d&2){let e=g.$implicit,n=u(2);k("priority-alta",e.priority==="alta")("priority-media",e.priority==="media")("priority-baja",e.priority==="baja"),l(3),c(e.clientName),l(),A("priority-"+e.priority),l(),C(" ",n.getPriorityIcon(e.priority)," "),l(6),c(n.getMarketLabel(e.market)),l(5),c(n.getBusinessFlowLabel(e.businessFlow)),l(5),c(n.formatCurrency(e.estimatedValue)),l(5),C("",e.probability,"%"),l(3),E("width",e.probability,"%"),l(6),c(e.nextAction),l(3),c(n.formatTimeAgo(e.lastActivity)),l(2),f("ngForOf",e.tags),l(2),f("ngIf",n.canAdvanceStage(e)),l(),f("ngIf",e.stage==="cotizando"&&!e.quote)}}function ee(d,g){if(d&1&&(i(0,"div",37)(1,"div",38)(2,"h3"),a(3),o(),i(4,"span",39),a(5),o(),i(6,"div",40),a(7),o()(),i(8,"div",41),x(9,K,46,21,"div",42),o()()),d&2){let e=g.$implicit,n=u();l(3),F("",e.icon," ",e.name,""),l(2),c(n.getStageOpportunities(e.key).length),l(2),c(n.formatCurrency(n.getStageValue(e.key))),l(2),f("ngForOf",n.getStageOpportunities(e.key))("ngForTrackBy",n.trackByOpportunityId)}}function te(d,g){d&1&&(i(0,"div",67),M(1,"div",68),i(2,"p"),a(3,"Cargando pipeline de oportunidades..."),o()())}var ue=(()=>{class d{constructor(e,n,t,r){this.apiService=e,this.cotizadorService=n,this.toast=t,this.router=r,this.opportunities=[],this.filteredOpportunities=[],this.clients=[],this.isLoading=!1,this.selectedMarket="",this.selectedFlow="",this.selectedStage="",this.selectedPriority="",this.stats={totalOpportunities:0,totalValue:0,averageDealSize:0,conversionRate:0,stageDistribution:{}},this.pipelineStages=[{key:"prospecto",name:"Prospecto",icon:"\u{1F464}"},{key:"cotizando",name:"Cotizando",icon:"\u{1F4B0}"},{key:"negociando",name:"Negociando",icon:"\u{1F91D}"},{key:"documentando",name:"Documentando",icon:"\u{1F4CB}"},{key:"cerrando",name:"Cerrando",icon:"\u{1F3AF}"}]}ngOnInit(){this.loadPipelineData()}loadPipelineData(){return w(this,null,function*(){this.isLoading=!0;try{this.clients=(yield this.apiService.getClients().toPromise())||[],this.generateOpportunities(),this.applyFilters(),this.calculateStats()}catch(e){console.error("Error loading pipeline data:",e),this.toast.error("Error al cargar datos del pipeline")}finally{this.isLoading=!1}})}generateOpportunities(){let e=[];this.clients.forEach((t,r)=>{let s=this.calculateEstimatedValue(t),O=this.determineStage(t),Y=this.determinePriority(t,s),U=this.calculateProbability(O,t);e.push({id:`opp-${t.id}`,clientId:t.id,clientName:t.name,clientPhone:t.phone||"",clientEmail:t.email||"",market:t.market,businessFlow:t.flow,stage:O,priority:Y,estimatedValue:s,probability:U,expectedCloseDate:this.calculateExpectedCloseDate(O),lastActivity:t.lastModified||new Date,nextAction:this.getNextAction(O,t),tags:this.generateTags(t),notes:`Oportunidad generada para ${t.name}`,createdAt:t.createdAt||new Date})});let n=[{id:"opp-prospect-1",clientId:"prospect-1",clientName:"Transportes del Valle S.A.",clientPhone:"5551234567",clientEmail:"contacto@transportesdelvalle.com",market:"edomex",businessFlow:p.CreditoColectivo,stage:"prospecto",priority:"alta",estimatedValue:45e5,probability:25,expectedCloseDate:new Date(Date.now()+45*24*60*60*1e3),lastActivity:new Date(Date.now()-2*24*60*60*1e3),nextAction:"Presentar propuesta de cr\xE9dito colectivo",tags:["Nuevo Prospecto","EdoMex","Colectivo"],notes:"Prospecto interesado en cr\xE9dito colectivo para 5 unidades",createdAt:new Date(Date.now()-7*24*60*60*1e3)},{id:"opp-prospect-2",clientId:"prospect-2",clientName:"Jos\xE9 Luis Mart\xEDnez",clientPhone:"5552345678",clientEmail:"jlmartinez@email.com",market:"aguascalientes",businessFlow:p.VentaPlazo,stage:"cotizando",priority:"media",estimatedValue:853e3,probability:60,expectedCloseDate:new Date(Date.now()+21*24*60*60*1e3),lastActivity:new Date(Date.now()-1*24*60*60*1e3),nextAction:"Enviar cotizaci\xF3n final con descuento",tags:["AGS","Venta Plazo","Hot Lead"],notes:"Cliente interesado, esperando cotizaci\xF3n con mejor precio",createdAt:new Date(Date.now()-14*24*60*60*1e3)}];this.opportunities=[...e,...n].sort((t,r)=>r.lastActivity.getTime()-t.lastActivity.getTime())}calculateEstimatedValue(e){return{[p.VentaPlazo]:e.market==="aguascalientes"?853e3:937e3,[p.VentaDirecta]:e.market==="aguascalientes"?853e3:837e3,[p.AhorroProgramado]:6e5,[p.CreditoColectivo]:4685e3,[p.Individual]:7e5}[e.flow]||8e5}determineStage(e){let n=e.quotes&&e.quotes.length>0,t=e.documents.some(s=>s.status==="Aprobado"),r=e.documents.filter(s=>s.status==="Aprobado").length/e.documents.length;return r>.8?"cerrando":t&&r>.5?"documentando":n?"negociando":e.status==="Activo"?"cotizando":"prospecto"}determinePriority(e,n){let t=e.createdAt||new Date,r=(Date.now()-t.getTime())/(1e3*60*60*24);return n>2e6||e.flow===p.CreditoColectivo||n>8e5&&r<14?"alta":r>30?"baja":"media"}calculateProbability(e,n){let r={prospecto:20,cotizando:40,negociando:65,documentando:85,cerrando:95}[e]||20;return n.flow===p.VentaDirecta&&(r+=10),n.market==="aguascalientes"&&(r+=5),Math.min(r,95)}calculateExpectedCloseDate(e){let t={prospecto:60,cotizando:30,negociando:21,documentando:14,cerrando:7}[e]||30;return new Date(Date.now()+t*24*60*60*1e3)}getNextAction(e,n){return{prospecto:"Contactar y calificar prospecto",cotizando:"Generar cotizaci\xF3n personalizada",negociando:"Ajustar t\xE9rminos y condiciones",documentando:"Completar expediente de documentos",cerrando:"Finalizar proceso y entrega"}[e]||"Definir siguiente acci\xF3n"}generateTags(e){let n=[];n.push(e.market==="aguascalientes"?"AGS":"EdoMex"),n.push(e.flow.replace(/([A-Z])/g," $1").trim()),e.ecosystemId&&n.push("Ecosistema"),e.status==="Activo"&&n.push("Cliente Activo");let t=e.createdAt||new Date;return(Date.now()-t.getTime())/(1e3*60*60*24)<7&&n.push("Nuevo"),n}applyFilters(){this.filteredOpportunities=this.opportunities.filter(e=>!(this.selectedMarket&&e.market!==this.selectedMarket||this.selectedFlow&&e.businessFlow!==this.selectedFlow||this.selectedStage&&e.stage!==this.selectedStage||this.selectedPriority&&e.priority!==this.selectedPriority))}calculateStats(){let e=this.filteredOpportunities.filter(n=>!["cerrado","perdido"].includes(n.stage));this.stats={totalOpportunities:e.length,totalValue:e.reduce((n,t)=>n+t.estimatedValue,0),averageDealSize:e.length>0?e.reduce((n,t)=>n+t.estimatedValue,0)/e.length:0,conversionRate:.35,stageDistribution:this.pipelineStages.reduce((n,t)=>(n[t.key]=e.filter(r=>r.stage===t.key).length,n),{})}}getStageOpportunities(e){return this.filteredOpportunities.filter(n=>n.stage===e)}getStageValue(e){return this.getStageOpportunities(e).reduce((n,t)=>n+t.estimatedValue,0)}refreshPipeline(){this.loadPipelineData(),this.toast.success("Pipeline actualizado")}createNewOpportunity(){this.router.navigate(["/nueva-oportunidad"])}viewOpportunity(e){e.clientId.startsWith("prospect-")?this.toast.info(`Viendo prospecto: ${e.clientName}`):this.router.navigate(["/clientes",e.clientId])}advanceStage(e){let n=this.pipelineStages.findIndex(t=>t.key===e.stage);n<this.pipelineStages.length-1&&(e.stage=this.pipelineStages[n+1].key,e.probability=this.calculateProbability(e.stage,{}),e.lastActivity=new Date,this.toast.success(`${e.clientName} avanzado a ${this.pipelineStages[n+1].name}`))}canAdvanceStage(e){return!["cerrando","cerrado","perdido"].includes(e.stage)}createQuote(e){this.router.navigate(["/cotizador"],{queryParams:{market:e.market,flow:e.businessFlow}})}scheduleFollowUp(e){this.toast.info(`Programando seguimiento para ${e.clientName}`)}getMarketLabel(e){return e==="aguascalientes"?"AGS":"EdoMex"}getBusinessFlowLabel(e){return{[p.VentaPlazo]:"Venta a Plazo",[p.VentaDirecta]:"Venta Directa",[p.AhorroProgramado]:"Plan de Ahorro",[p.CreditoColectivo]:"Cr\xE9dito Colectivo",[p.Individual]:"Individual"}[e]||e}getPriorityIcon(e){return{alta:"\u{1F534}",media:"\u{1F7E1}",baja:"\u{1F7E2}"}[e]||"\u26AA"}formatCurrency(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0}).format(e)}formatTimeAgo(e){let t=new Date().getTime()-e.getTime(),r=Math.floor(t/(1e3*60*60)),s=Math.floor(t/(1e3*60*60*24));return r<24?`${r}h`:s<7?`${s}d`:e.toLocaleDateString("es-MX",{month:"short",day:"numeric"})}trackByOpportunityId(e,n){return n.id}static{this.\u0275fac=function(n){return new(n||d)(y(Q),y(X),y(q),y(N))}}static{this.\u0275cmp=D({type:d,selectors:[["app-opportunities-pipeline"]],standalone:!0,features:[z],decls:101,vars:10,consts:[[1,"opportunities-container"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"stats-grid"],[1,"stat-card","total-opportunities"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","total-value"],[1,"stat-card","average-deal"],[1,"stat-card","conversion-rate"],[1,"filters-section"],[1,"filter-group"],[3,"ngModelChange","change","ngModel"],["value",""],["value","aguascalientes"],["value","edomex"],["value","VentaPlazo"],["value","VentaDirecta"],["value","AhorroProgramado"],["value","CreditoColectivo"],["value","prospecto"],["value","cotizando"],["value","negociando"],["value","documentando"],["value","cerrando"],["value","alta"],["value","media"],["value","baja"],[1,"pipeline-kanban"],["class","pipeline-stage",4,"ngFor","ngForOf"],["class","loading-container",4,"ngIf"],[1,"pipeline-stage"],[1,"stage-header"],[1,"stage-count"],[1,"stage-value"],[1,"opportunities-list"],["class","opportunity-card",3,"priority-alta","priority-media","priority-baja","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"opportunity-card",3,"click"],[1,"opportunity-header"],[1,"priority-badge"],[1,"opportunity-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"opportunity-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"opportunity-meta"],[1,"next-action"],[1,"action-icon"],[1,"action-text"],[1,"last-activity"],[1,"activity-time"],[1,"opportunity-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"opportunity-actions"],["class","action-btn",3,"click",4,"ngIf"],["class","action-btn secondary",3,"click",4,"ngIf"],[1,"action-btn","secondary",3,"click"],[1,"tag"],[1,"action-btn",3,"click"],[1,"loading-container"],[1,"loading-spinner"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),a(4,"\u{1F3AF} Pipeline de Oportunidades"),o(),i(5,"p",3),a(6,"Gesti\xF3n de prospectos y seguimiento de ventas"),o()(),i(7,"div",4)(8,"button",5),m("click",function(){return t.refreshPipeline()}),a(9," \u{1F504} Actualizar "),o(),i(10,"button",6),m("click",function(){return t.createNewOpportunity()}),a(11," \u2795 Nueva Oportunidad "),o()()(),i(12,"div",7)(13,"div",8)(14,"div",9),a(15,"\u{1F3AF}"),o(),i(16,"div",10)(17,"div",11),a(18),o(),i(19,"div",12),a(20,"Oportunidades Activas"),o()()(),i(21,"div",13)(22,"div",9),a(23,"\u{1F4B0}"),o(),i(24,"div",10)(25,"div",11),a(26),o(),i(27,"div",12),a(28,"Valor Total Pipeline"),o()()(),i(29,"div",14)(30,"div",9),a(31,"\u{1F4CA}"),o(),i(32,"div",10)(33,"div",11),a(34),o(),i(35,"div",12),a(36,"Ticket Promedio"),o()()(),i(37,"div",15)(38,"div",9),a(39,"\u{1F4C8}"),o(),i(40,"div",10)(41,"div",11),a(42),o(),i(43,"div",12),a(44,"Tasa de Conversi\xF3n"),o()()()(),i(45,"div",16)(46,"div",17)(47,"label"),a(48,"\u{1F3E2} Mercado"),o(),i(49,"select",18),P("ngModelChange",function(s){return h(t.selectedMarket,s)||(t.selectedMarket=s),s}),m("change",function(){return t.applyFilters()}),i(50,"option",19),a(51,"Todos los mercados"),o(),i(52,"option",20),a(53,"Aguascalientes"),o(),i(54,"option",21),a(55,"Estado de M\xE9xico"),o()()(),i(56,"div",17)(57,"label"),a(58,"\u{1F4CB} Tipo de Negocio"),o(),i(59,"select",18),P("ngModelChange",function(s){return h(t.selectedFlow,s)||(t.selectedFlow=s),s}),m("change",function(){return t.applyFilters()}),i(60,"option",19),a(61,"Todos los tipos"),o(),i(62,"option",22),a(63,"Venta a Plazo"),o(),i(64,"option",23),a(65,"Venta Directa"),o(),i(66,"option",24),a(67,"Plan de Ahorro"),o(),i(68,"option",25),a(69,"Cr\xE9dito Colectivo"),o()()(),i(70,"div",17)(71,"label"),a(72,"\u{1F39A}\uFE0F Etapa"),o(),i(73,"select",18),P("ngModelChange",function(s){return h(t.selectedStage,s)||(t.selectedStage=s),s}),m("change",function(){return t.applyFilters()}),i(74,"option",19),a(75,"Todas las etapas"),o(),i(76,"option",26),a(77,"Prospecto"),o(),i(78,"option",27),a(79,"Cotizando"),o(),i(80,"option",28),a(81,"Negociando"),o(),i(82,"option",29),a(83,"Documentando"),o(),i(84,"option",30),a(85,"Cerrando"),o()()(),i(86,"div",17)(87,"label"),a(88,"\u26A1 Prioridad"),o(),i(89,"select",18),P("ngModelChange",function(s){return h(t.selectedPriority,s)||(t.selectedPriority=s),s}),m("change",function(){return t.applyFilters()}),i(90,"option",19),a(91,"Todas las prioridades"),o(),i(92,"option",31),a(93,"Alta"),o(),i(94,"option",32),a(95,"Media"),o(),i(96,"option",33),a(97,"Baja"),o()()()(),i(98,"div",34),x(99,ee,10,6,"div",35),o(),x(100,te,4,0,"div",36),o()),n&2&&(l(18),c(t.stats.totalOpportunities),l(8),c(t.formatCurrency(t.stats.totalValue)),l(8),c(t.formatCurrency(t.stats.averageDealSize)),l(8),C("",(t.stats.conversionRate*100).toFixed(1),"%"),l(7),b("ngModel",t.selectedMarket),l(10),b("ngModel",t.selectedFlow),l(14),b("ngModel",t.selectedStage),l(16),b("ngModel",t.selectedPriority),l(10),f("ngForOf",t.pipelineStages),l(),f("ngIf",t.isLoading))},dependencies:[V,T,I,R,$,G,W,B,L,j],styles:[".opportunities-container[_ngcontent-%COMP%]{padding:24px;max-width:1600px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding-bottom:24px;border-bottom:2px solid #e2e8f0}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;color:#2d3748;font-size:2.2rem;font-weight:700}.page-description[_ngcontent-%COMP%]{margin:0;color:#718096;font-size:1.1rem}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:12px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s;border:none;font-size:.9rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#48bb78,#38a169);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#38a169,#2f855a);transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{background:#f7fafc;color:#4a5568;border:1px solid #e2e8f0}.btn-secondary[_ngcontent-%COMP%]:hover{background:#edf2f7}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:32px}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 8px #00000014;border:1px solid #e2e8f0;display:flex;align-items:center;gap:16px;transition:transform .2s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.stat-icon[_ngcontent-%COMP%]{font-size:2.5rem;opacity:.8}.stat-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2d3748;font-family:monospace}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#718096;font-weight:500}.filters-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:32px;padding:20px;background:#fff;border-radius:12px;border:1px solid #e2e8f0}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#4a5568;font-size:.9rem}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e2e8f0;border-radius:6px;background:#fff;font-size:.9rem;cursor:pointer}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4299e1;box-shadow:0 0 0 3px #4299e11a}.pipeline-kanban[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:20px;margin-bottom:32px}.pipeline-stage[_ngcontent-%COMP%]{background:#f7fafc;border-radius:12px;padding:16px;min-height:400px}.stage-header[_ngcontent-%COMP%]{padding:12px 16px;background:#fff;border-radius:8px;margin-bottom:16px;box-shadow:0 2px 4px #0000000d}.stage-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.1rem;font-weight:600;color:#2d3748}.stage-count[_ngcontent-%COMP%]{background:#4299e1;color:#fff;padding:2px 8px;border-radius:10px;font-size:.8rem;font-weight:600;margin-left:8px}.stage-value[_ngcontent-%COMP%]{font-size:.9rem;color:#48bb78;font-weight:600;font-family:monospace}.opportunities-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-height:600px;overflow-y:auto}.opportunity-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px;border:1px solid #e2e8f0;cursor:pointer;transition:all .2s;position:relative}.opportunity-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.opportunity-card.priority-alta[_ngcontent-%COMP%]{border-left:4px solid #e53e3e}.opportunity-card.priority-media[_ngcontent-%COMP%]{border-left:4px solid #ed8936}.opportunity-card.priority-baja[_ngcontent-%COMP%]{border-left:4px solid #48bb78}.opportunity-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.opportunity-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:#2d3748}.priority-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:.8rem;font-weight:600}.priority-badge.priority-alta[_ngcontent-%COMP%]{background:#fed7d7;color:#c53030}.priority-badge.priority-media[_ngcontent-%COMP%]{background:#feebc8;color:#c05621}.priority-badge.priority-baja[_ngcontent-%COMP%]{background:#c6f6d5;color:#22543d}.opportunity-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.85rem}.detail-label[_ngcontent-%COMP%]{color:#718096}.detail-value[_ngcontent-%COMP%]{color:#2d3748;font-weight:500}.opportunity-progress[_ngcontent-%COMP%]{margin-bottom:12px}.progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4299e1,#63b3ed);transition:width .3s ease}.opportunity-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;font-size:.8rem}.next-action[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#4a5568}.last-activity[_ngcontent-%COMP%]{color:#718096}.opportunity-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px;margin-bottom:12px}.tag[_ngcontent-%COMP%]{background:#e6fffa;color:#234e52;padding:2px 6px;border-radius:4px;font-size:.75rem;font-weight:500}.opportunity-actions[_ngcontent-%COMP%]{display:flex;gap:6px}.action-btn[_ngcontent-%COMP%]{flex:1;padding:6px 8px;border:1px solid #e2e8f0;background:#fff;border-radius:4px;font-size:.75rem;cursor:pointer;transition:all .2s;color:#4a5568}.action-btn[_ngcontent-%COMP%]:hover{background:#f7fafc;border-color:#cbd5e0}.action-btn.secondary[_ngcontent-%COMP%]{background:#f7fafc}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:#718096}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e2e8f0;border-left-color:#4299e1;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.opportunities-container[_ngcontent-%COMP%]{padding:16px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.filters-section[_ngcontent-%COMP%], .pipeline-kanban[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return d})();export{ue as OpportunitiesPipelineComponent};
