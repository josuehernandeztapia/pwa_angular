import{a as ue}from"./chunk-AIYREKCX.js";import"./chunk-FK6H3RFT.js";import{a as ce}from"./chunk-PH3HD2HQ.js";import{a as me}from"./chunk-O54BG3VU.js";import{m as z}from"./chunk-SCHFUJ5K.js";import{a as se}from"./chunk-ULB2DFX5.js";import{a as de}from"./chunk-YYSQDTD3.js";import{b as U,c as b,d as H,e as K,g as Q,h as X,i as J,l as Y,m as Z,n as ee,o as te,p as ie,q as ne,r as re,t as oe,u as ae,v as le}from"./chunk-S2UEMBMO.js";import{Ea as o,Fa as C,Sa as c,Ua as m,Va as B,Xa as w,Xb as L,Ya as i,Yb as q,Za as t,_a as _,bb as R,bc as G,cb as f,db as u,ea as W,f as j,ib as n,jb as p,kb as v,ma as g,na as x,oa as $,ob as I,pa as N,pb as M,qb as F,sb as O}from"./chunk-5IDTUAMZ.js";import{g as T}from"./chunk-DM275RSA.js";function pe(r,d){r&1&&(i(0,"div",32),n(1,"El n\xFAmero de miembros es obligatorio"),t())}function ve(r,d){r&1&&(i(0,"div",32),n(1,"M\xEDnimo 5 miembros"),t())}function ge(r,d){r&1&&(i(0,"div",32),n(1,"M\xE1ximo 50 miembros"),t())}function xe(r,d){r&1&&(i(0,"div",32),n(1,"El precio de la unidad es obligatorio"),t())}function fe(r,d){r&1&&(i(0,"div",32),n(1,"El precio m\xEDnimo es $500,000"),t())}function be(r,d){r&1&&(i(0,"div",32),n(1,"El consumo promedio es obligatorio"),t())}function he(r,d){r&1&&(i(0,"div",32),n(1,"El m\xEDnimo es 200 litros/mes"),t())}function _e(r,d){r&1&&(i(0,"div",32),n(1,"El sobreprecio por litro es obligatorio"),t())}function Ee(r,d){r&1&&(i(0,"div",32),n(1,"El m\xEDnimo es $1.00/litro"),t())}function ye(r,d){r&1&&(i(0,"div",32),n(1,"No puede ser negativo"),t())}function Ce(r,d){if(r&1&&(i(0,"option",50),n(1),t()),r&2){let e=d.$implicit;m("value",e),o(),v(" Miembro ",e.substring(1)," ")}}function Se(r,d){if(r&1){let e=R();i(0,"div")(1,"div",53)(2,"span",54),n(3),t(),i(4,"div")(5,"p"),n(6),t()()(),i(7,"button",55),f("click",function(){let a=g(e).$implicit,s=u(3);return x(s.removeWhatIfEvent(a.id))}),n(8," \xD7 "),t()()}if(r&2){let e=d.$implicit,l=u(3);w("flex items-center justify-between p-3 rounded-lg border "+l.getEventTypeBgColor(e.type)),o(3),p(l.getEventTypeIcon(e.type)),o(2),w("text-sm font-medium "+l.getEventTypeColor(e.type)),o(),v(" ",e.description," ")}}function we(r,d){if(r&1&&(i(0,"div",12)(1,"h4",38),n(2),t(),i(3,"div",51),c(4,Se,9,6,"div",52),t()()),r&2){let e=u(2);o(2),v("Eventos Programados (",e.whatIfEvents.length,")"),o(2),m("ngForOf",e.whatIfEvents)}}function Te(r,d){if(r&1){let e=R();i(0,"div",33)(1,"h3",34)(2,"span",35),n(3,"?"),t(),n(4," What-If Events Builder "),t(),i(5,"p",36),n(6,"Simula eventos especiales como aportes extra o atrasos"),t(),i(7,"div",37)(8,"h4",38),n(9,"Agregar Evento"),t(),i(10,"div",39)(11,"div")(12,"label",40),n(13,"Mes"),t(),i(14,"input",41),F("ngModelChange",function(a){g(e);let s=u();return M(s.newEvent.month,a)||(s.newEvent.month=a),x(a)}),t()(),i(15,"div")(16,"label",40),n(17,"Tipo"),t(),i(18,"select",42),F("ngModelChange",function(a){g(e);let s=u();return M(s.newEvent.type,a)||(s.newEvent.type=a),x(a)}),i(19,"option",43),n(20,"Aporte Extra \u2795"),t(),i(21,"option",44),n(22,"Atraso \u26A0\uFE0F"),t()()(),i(23,"div")(24,"label",40),n(25,"Miembro"),t(),i(26,"select",42),F("ngModelChange",function(a){g(e);let s=u();return M(s.newEvent.memberId,a)||(s.newEvent.memberId=a),x(a)}),c(27,Ce,2,2,"option",45),t()(),i(28,"div")(29,"label",40),n(30,"Monto"),t(),i(31,"div",17)(32,"span",46),n(33,"$"),t(),i(34,"input",47),F("ngModelChange",function(a){g(e);let s=u();return M(s.newEvent.amount,a)||(s.newEvent.amount=a),x(a)}),t()()()(),i(35,"button",48),f("click",function(){g(e);let a=u();return x(a.addWhatIfEvent())}),n(36," \u2795 Agregar Evento "),t()(),c(37,we,5,2,"div",49),t()}if(r&2){let e=u();o(14),I("ngModel",e.newEvent.month),o(4),I("ngModel",e.newEvent.type),o(8),I("ngModel",e.newEvent.memberId),o(),m("ngForOf",e.getAvailableMemberIds()),o(7),I("ngModel",e.newEvent.amount),o(),m("disabled",!e.newEvent.month||!e.newEvent.amount),o(2),m("ngIf",e.whatIfEvents.length>0)}}function Ie(r,d){r&1&&(i(0,"span"),n(1,"Simular Tanda Colectiva"),t())}function Me(r,d){r&1&&(i(0,"div",56),$(),i(1,"svg",57),_(2,"circle",58)(3,"path",59),t(),n(4," Simulando... "),t())}function Fe(r,d){if(r&1&&(i(0,"div"),n(1),t()),r&2){let e=u().$implicit;w("text-xs px-2 py-1 rounded-full "+(e.trend==="up"?"bg-green-100 text-green-600":e.trend==="down"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600")),o(),v(" ",e.trend==="up"?"\u2197\uFE0F":e.trend==="down"?"\u2198\uFE0F":"\u27A1\uFE0F"," ")}}function Re(r,d){if(r&1&&(i(0,"div",95)(1,"div",96)(2,"span",97),n(3),t(),c(4,Fe,2,3,"div",98),t(),i(5,"div",99),n(6),t(),i(7,"div"),n(8),t()()),r&2){let e=d.$implicit;o(3),p(e.icon),o(),m("ngIf",e.trend),o(2),p(e.title),o(),w("text-lg font-bold "+e.color),o(),p(e.value)}}function De(r,d){if(r&1&&(i(0,"div",91)(1,"h3",92),n(2," \u{1F4CA} Dashboard de KPIs "),t(),i(3,"div",93),c(4,Re,9,6,"div",94),t()()),r&2){let e=u(2);o(4),m("ngForOf",e.kpiDashboard)}}function Ae(r,d){if(r&1&&(i(0,"div",74)(1,"span",75),n(2,"Rondas totales:"),t(),i(3,"span",76),n(4),t()()),r&2){let e=u(3);o(4),p(e.simulationResult.tandaResult.totalRounds)}}function Pe(r,d){if(r&1&&(i(0,"div",74)(1,"span",75),n(2,"Retorno efectivo:"),t(),i(3,"span",106),n(4),t()()),r&2){let e=u(3);o(4),v("",(e.simulationResult.tandaResult.effectiveReturn*100).toFixed(2),"%")}}function ke(r,d){if(r&1&&(i(0,"div",100)(1,"h3",101)(2,"span",102),n(3,"\u{1F3AF}"),t(),n(4," Resultados de la Tanda: "),t(),i(5,"div",103)(6,"div",74)(7,"span",75),n(8,"Primer premio en mes:"),t(),i(9,"span",104),n(10),t()(),c(11,Ae,5,1,"div",105)(12,Pe,5,1,"div",105),t()()),r&2){let e=u(2);o(10),p(e.simulationResult.tandaResult.firstAwardT||"TBD"),o(),m("ngIf",e.simulationResult.tandaResult.totalRounds),o(),m("ngIf",e.simulationResult.tandaResult.effectiveReturn)}}function Ve(r,d){if(r&1&&(i(0,"div",74)(1,"span",75),n(2,"Factor de aceleraci\xF3n:"),t(),i(3,"span",76),n(4),t()()),r&2){let e=u(3);o(4),v("",e.simulationResult.snowballEffect.accelerationFactor.toFixed(2),"x")}}function $e(r,d){if(r&1&&(i(0,"div",74)(1,"span",75),n(2,"Beneficio compuesto:"),t(),i(3,"span",106),n(4),t()()),r&2){let e=u(3);o(4),p(e.formatCurrency(e.simulationResult.snowballEffect.compoundingBenefit))}}function je(r,d){if(r&1&&(i(0,"div",107)(1,"h3",101)(2,"span",108),n(3,"\u26A1"),t(),n(4," Efecto Bola de Nieve: "),t(),i(5,"div",103)(6,"div",74)(7,"span",75),n(8,"Ahorro acumulado total:"),t(),i(9,"span",109),n(10),t()(),c(11,Ve,5,1,"div",105)(12,$e,5,1,"div",105),t()()),r&2){let e=u(2);o(10),v(" ",e.formatCurrency(e.simulationResult.snowballEffect.totalSavings&&e.simulationResult.snowballEffect.totalSavings.length>0?e.simulationResult.snowballEffect.totalSavings[e.simulationResult.snowballEffect.totalSavings.length-1]:0)," "),o(),m("ngIf",e.simulationResult.snowballEffect.accelerationFactor),o(),m("ngIf",e.simulationResult.snowballEffect.compoundingBenefit)}}function We(r,d){r&1&&(i(0,"span",123),n(1," \u26A0\uFE0F D\xE9ficit de Deuda "),t())}function Ne(r,d){if(r&1&&(i(0,"div",126),n(1),t()),r&2){let e=d.$implicit;o(),v(" \u2728 \xA1Unidad entregada a ",e.name,"! ")}}function Be(r,d){if(r&1&&(i(0,"div",124),c(1,Ne,2,1,"div",125),t()),r&2){let e=u().$implicit;o(),m("ngForOf",e.awards)}}function Oe(r,d){if(r&1&&(i(0,"div",113)(1,"div",114)(2,"h5",115),n(3),c(4,We,2,0,"span",116),t()(),i(5,"div",117)(6,"div",74)(7,"span",75),n(8,"Aportaciones:"),t(),i(9,"span",118),n(10),t()(),i(11,"div",74)(12,"span",75),n(13,"Deuda del Mes:"),t(),i(14,"span",119),n(15),t()(),i(16,"div",74)(17,"span",120),n(18,"Ahorro Neto:"),t(),i(19,"span",121),n(20),t()()(),c(21,Be,2,1,"div",122),t()),r&2){let e=d.$implicit,l=u(3);o(3),v(" \u{1F5D3}\uFE0F Mes ",e.t," "),o(),m("ngIf",e.riskBadge==="debtDeficit"),o(6),p(l.formatCurrency(e.inflow)),o(5),p(l.formatCurrency(e.debtDue)),o(5),p(l.formatCurrency(e.savings)),o(),m("ngIf",e.awards.length>0)}}function Le(r,d){if(r&1&&(i(0,"div",91)(1,"h3",110),n(2," \u{1F4C5} Timeline Mensual Detallado "),t(),i(3,"div",111),c(4,Oe,22,6,"div",112),t()()),r&2){let e=u(2);o(4),m("ngForOf",e.generateMonthlyTimeline())}}function qe(r,d){if(r&1&&(i(0,"div",131)(1,"span",132),n(2),t(),i(3,"span",76),n(4),t(),i(5,"div",56)(6,"div",133),_(7,"div",134),t()(),i(8,"span",135),n(9),t()()),r&2){let e=d.$implicit,l=d.index,a=u(3);o(2),p(l+1),o(2),p(a.formatCurrency(e)),o(3),B("width",e/a.simulationResult.scenario.targetAmount*100,"%"),o(2),v("",(e/a.simulationResult.scenario.targetAmount*100).toFixed(1),"%")}}function Ge(r,d){if(r&1&&(i(0,"div",91)(1,"h3",72),n(2,"Proyecci\xF3n de Ahorro Colectivo:"),t(),i(3,"div",127)(4,"div",128)(5,"span"),n(6,"Mes"),t(),i(7,"span"),n(8,"Ahorro Total"),t(),i(9,"span"),n(10,"Progreso"),t(),i(11,"span"),n(12,"%"),t()(),i(13,"div",129),c(14,qe,10,5,"div",130),t()()()),r&2){let e=u(2);o(14),m("ngForOf",e.simulationResult.snowballEffect.totalSavings.slice(0,12))}}function ze(r,d){if(r&1&&(i(0,"div",91)(1,"h3",110),n(2," \u{1F4CA} An\xE1lisis de Impacto Delta "),t(),i(3,"div",136)(4,"div",137)(5,"h4",138),n(6,"\xBFQu\xE9 pasa si cada miembro aporta $500 m\xE1s?"),t(),i(7,"span",97),n(8,"\u{1F4A1}"),t()(),i(9,"div",139)(10,"div",140)(11,"div",141),n(12,"-1.2"),t(),i(13,"div",142),n(14,"meses menos"),t()(),i(15,"div",140)(16,"div",143),n(17,"+$5,000"),t(),i(18,"div",144),n(19,"ahorro extra"),t()(),i(20,"div",140)(21,"div",145),n(22,"15%"),t(),i(23,"div",146),n(24,"m\xE1s r\xE1pido"),t()(),i(25,"div",140)(26,"div",147),n(27),t(),i(28,"div",148),n(29,"beneficiados"),t()()(),i(30,"div",149),n(31),t()()()),r&2){let e=u(2);o(27),p(e.configForm.value.memberCount||0),o(4),v(" \u{1F4B0} Inversi\xF3n: ",e.formatCurrency((e.configForm.value.memberCount||0)*500)," total del grupo ")}}function Ue(r,d){if(r&1&&(i(0,"div",148),n(1),t()),r&2){let e=d.$implicit;o(),v(" \u2022 ",e.description," ")}}function He(r,d){if(r&1&&(i(0,"div",150)(1,"h4",151)(2,"span",152),n(3,"\u{1F3AF}"),t(),n(4," Impacto de Eventos What-If "),t(),i(5,"p",153),n(6),t(),i(7,"div",154),c(8,Ue,2,1,"div",155),t(),i(9,"div",156)(10,"div",157)(11,"span",158),n(12,"Impacto estimado en timeline:"),t(),i(13,"span",159),n(14),t()()()()),r&2){let e=u(2);o(6),v(" Se han incluido ",e.whatIfEvents.length," evento(s) especial(es) en esta simulaci\xF3n: "),o(2),m("ngForOf",e.whatIfEvents),o(6),v(" ",e.getDeltaImpactText()," ")}}function Ke(r,d){if(r&1){let e=R();i(0,"div",8)(1,"h2",9)(2,"span",60),n(3,"2"),t(),n(4," Resultados de la Simulaci\xF3n "),t(),c(5,De,5,1,"div",61),i(6,"div",62)(7,"div",63)(8,"div",64),n(9,"Meta Total del Grupo"),t(),i(10,"div",65),n(11),t(),i(12,"div",66),n(13),t()(),i(14,"div",67)(15,"div",68),n(16,"Aportaci\xF3n Mensual Total"),t(),i(17,"div",69),n(18),t(),i(19,"div",70),n(20),t()()(),i(21,"div",71)(22,"h3",72),n(23,"Aportaci\xF3n Individual por Miembro:"),t(),i(24,"div",73)(25,"div",74)(26,"span",75),n(27,"Por combustible:"),t(),i(28,"span",76),n(29),t()(),i(30,"div",74)(31,"span",75),n(32,"Aportaci\xF3n voluntaria:"),t(),i(33,"span",76),n(34),t()()(),_(35,"hr",77),i(36,"div",78)(37,"span"),n(38,"Total por miembro:"),t(),i(39,"span"),n(40),t()()(),c(41,ke,13,3,"div",79)(42,je,13,3,"div",80)(43,Le,5,1,"div",61)(44,Ge,15,1,"div",61)(45,ze,32,2,"div",61),i(46,"div",33)(47,"div",81)(48,"button",82),f("click",function(){g(e);let a=u();return x(a.generatePDF())}),n(49," \u{1F4C4} PDF "),t(),i(50,"button",83),f("click",function(){g(e);let a=u();return x(a.speakSummary())}),n(51," \u{1F50A} Escuchar Resumen "),t(),i(52,"button",84),f("click",function(){g(e);let a=u();return x(a.shareWhatsApp())}),n(53," \u{1F4F1} Compartir "),t()(),i(54,"div",85)(55,"button",86),f("click",function(){g(e);let a=u();return x(a.proceedToClientCreation())}),$(),i(56,"svg",87),_(57,"path",88),t(),n(58),t(),N(),i(59,"button",89),f("click",function(){g(e);let a=u();return x(a.recalculate())}),n(60," \u{1F504} Recalcular "),t()(),c(61,He,15,3,"div",90),t()()}if(r&2){let e=u();o(5),m("ngIf",e.currentViewMode==="advanced"&&e.kpiDashboard.length>0),o(6),p(e.formatCurrency(e.simulationResult.scenario.targetAmount)),o(2),v("",e.simulationResult.scenario.monthsToTarget," meses estimados"),o(5),p(e.formatCurrency(e.simulationResult.scenario.monthlyContribution)),o(2),v("",e.formatCurrency(e.simulationResult.scenario.monthlyContribution/e.configForm.value.memberCount)," por miembro"),o(9),p(e.formatCurrency((e.simulationResult.scenario.collectionContribution||0)/e.configForm.value.memberCount)),o(5),p(e.formatCurrency((e.simulationResult.scenario.voluntaryContribution||0)/e.configForm.value.memberCount)),o(6),p(e.formatCurrency(e.simulationResult.scenario.monthlyContribution/e.configForm.value.memberCount)),o(),m("ngIf",e.simulationResult.tandaResult),o(),m("ngIf",e.simulationResult.snowballEffect),o(),m("ngIf",e.currentViewMode==="advanced"),o(),m("ngIf",(e.simulationResult.snowballEffect==null?null:e.simulationResult.snowballEffect.totalSavings)&&e.currentViewMode==="simple"),o(),m("ngIf",e.currentViewMode==="advanced"),o(13),v(" \u2728 Formalizar Grupo de ",e.configForm.value.memberCount," Miembros "),o(3),m("ngIf",e.currentViewMode==="advanced"&&e.whatIfEvents.length>0)}}function Qe(r,d){r&1&&(i(0,"div",8)(1,"h2",160)(2,"span",161),n(3,"\u{1F4A1}"),t(),n(4," \xBFQu\xE9 es una Tanda Colectiva? "),t(),i(5,"div",162)(6,"div",163)(7,"span",164),n(8,"1"),t(),i(9,"div")(10,"h3",165),n(11,"Grupo Colaborativo"),t(),i(12,"p",166),n(13,"Un grupo de personas que ahorran juntas para adquirir varias unidades"),t()()(),i(14,"div",163)(15,"span",164),n(16,"2"),t(),i(17,"div")(18,"h3",165),n(19,"Entrega Rotativa"),t(),i(20,"p",166),n(21,"Cada mes se entrega una unidad a un miembro diferente del grupo"),t()()(),i(22,"div",163)(23,"span",164),n(24,"3"),t(),i(25,"div")(26,"h3",165),n(27,"Efecto Bola de Nieve"),t(),i(28,"p",166),n(29,"Los ahorros se aceleran conforme m\xE1s miembros reciben su unidad"),t()()(),i(30,"div",163)(31,"span",167),n(32,"\u2713"),t(),i(33,"div")(34,"h3",165),n(35,"Beneficio Mutuo"),t(),i(36,"p",166),n(37,"Todos obtienen su unidad m\xE1s r\xE1pido y con mejores condiciones"),t()()()()())}var dt=(()=>{class r{constructor(e,l,a,s,E,h,y){this.fb=e,this.simuladorEngine=l,this.loadingService=a,this.financialCalc=s,this.pdfExportService=E,this.toast=h,this.router=y,this.destroy$=new j,this.simulationResult=null,this.isSimulating=!1,this.currentViewMode="simple",this.whatIfEvents=[],this.newEvent={month:1,type:"extra",memberId:"M1",amount:0},this.showWhatsAppShare=!1,this.kpiDashboard=[],this.configForm=this.fb.group({memberCount:[10,[b.required,b.min(5),b.max(50)]],unitPrice:[749e3,[b.required,b.min(5e5)]],avgConsumption:[400,[b.required,b.min(200)]],overpricePerLiter:[3,[b.required,b.min(1)]],voluntaryMonthly:[500,[b.min(0)]]})}ngOnInit(){this.configForm.patchValue({memberCount:10,unitPrice:749e3,avgConsumption:400,overpricePerLiter:3,voluntaryMonthly:500})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}simulateTanda(){return T(this,null,function*(){if(!this.configForm.valid)return;let e=this.configForm.value;this.isSimulating=!0,this.loadingService.show("Simulando la tanda colectiva con efecto bola de nieve...");try{let l={memberCount:e.memberCount,unitPrice:e.unitPrice,avgConsumption:e.avgConsumption,overpricePerLiter:e.overpricePerLiter,voluntaryMonthly:e.voluntaryMonthly||0};setTimeout(()=>T(this,null,function*(){try{this.simulationResult=yield this.simuladorEngine.generateEdoMexCollectiveScenario(l),this.generateKpiDashboard(),this.isSimulating=!1,this.loadingService.hide()}catch(a){console.error("Error in tanda simulation:",a),this.isSimulating=!1,this.loadingService.hide()}}),2e3)}catch(l){console.error("Error starting tanda simulation:",l),this.isSimulating=!1,this.loadingService.hide()}})}resetForm(){this.configForm.reset({memberCount:10,unitPrice:749e3,avgConsumption:400,overpricePerLiter:3,voluntaryMonthly:500}),this.simulationResult=null}recalculate(){this.simulationResult=null}proceedToClientCreation(){if(!this.simulationResult)return;let e={simulatorData:{type:"EDOMEX_COLLECTIVE",scenario:this.simulationResult.scenario,configParams:this.configForm.value,tandaResult:this.simulationResult.tandaResult,snowballEffect:this.simulationResult.snowballEffect}};sessionStorage.setItem("pendingClientData",JSON.stringify(e)),this.router.navigate(["/clientes/nuevo"],{queryParams:{fromSimulator:"tanda-colectiva",hasScenario:"true",isGroupClient:"true"}})}formatCurrency(e){return this.financialCalc.formatCurrency(e)}toggleViewMode(){this.currentViewMode=this.currentViewMode==="simple"?"advanced":"simple"}simulateWithDelta(e=500){return T(this,null,function*(){if(!this.configForm.valid)return null;let l=this.configForm.value,a={memberCount:l.memberCount,unitPrice:l.unitPrice,avgConsumption:l.avgConsumption,overpricePerLiter:l.overpricePerLiter,voluntaryMonthly:(l.voluntaryMonthly||0)+e};try{return yield this.simuladorEngine.generateEdoMexCollectiveScenario(a)}catch(s){return console.error("Error in delta simulation:",s),null}})}extractSeniorSummary(e,l,a=500){if(!e?.scenario)return null;let s=e.scenario.targetAmount*.1,E=e.tandaResult?.firstAwardT||6,h=0;return l&&e.tandaResult?.firstAwardT&&l.tandaResult?.firstAwardT&&(h=Math.max(0,l.tandaResult.firstAwardT-e.tandaResult.firstAwardT)),{ahorroHoy:s,siguienteMes:E,extraSugerido:a,avanceMeses:h,totalMembers:this.configForm.value.memberCount,unitPrice:this.configForm.value.unitPrice}}extractTimelineDeliveries(){if(!this.simulationResult)return[];let e=this.configForm.value.memberCount||5,l=[];for(let a=0;a<Math.min(e,6);a++){let s=(this.simulationResult.tandaResult?.firstAwardT||6)+a*2;l.push({mes:s,miembro:`Miembro ${a+1}`,unitNumber:a+1,status:a===0?"next":"pending"})}return l}generateMonthlyTimeline(){if(!this.simulationResult)return[];let e=[],l=this.simulationResult.scenario.monthlyContribution,a=this.simulationResult.scenario.targetAmount/this.simulationResult.scenario.monthsToTarget;for(let s=1;s<=Math.min(12,this.simulationResult.scenario.monthsToTarget);s++){let E=s%3===0&&s<=this.configForm.value.memberCount*2,h=l*s,y=a,S=h-y*s;e.push({t:s,inflow:l,debtDue:y,savings:Math.max(0,S),awards:E?[{memberId:`M${Math.floor(s/3)}`,name:`Miembro ${Math.floor(s/3)}`}]:[],riskBadge:S<0?"debtDeficit":null})}return e}addWhatIfEvent(){if(!this.newEvent.month||!this.newEvent.type||!this.newEvent.memberId||!this.newEvent.amount)return;let e={id:Date.now().toString(),month:this.newEvent.month,type:this.newEvent.type,memberId:this.newEvent.memberId,amount:this.newEvent.amount,description:this.generateEventDescription(this.newEvent)};this.whatIfEvents.push(e),this.resetNewEvent(),this.simulationResult&&this.simulateTandaWithEvents()}removeWhatIfEvent(e){this.whatIfEvents=this.whatIfEvents.filter(l=>l.id!==e),this.simulationResult&&this.simulateTandaWithEvents()}resetNewEvent(){this.newEvent={month:1,type:"extra",memberId:this.getAvailableMemberIds()[0]||"M1",amount:0}}generateEventDescription(e){let l=`Miembro ${e.memberId.substring(1)}`,a=e.type==="extra"?"aport\xF3 extra":"se atras\xF3 con";return`Mes ${e.month}: ${l} ${a} ${this.formatCurrency(e.amount)}`}simulateTandaWithEvents(){return T(this,null,function*(){yield this.simulateTanda()})}generateKpiDashboard(){this.simulationResult&&(this.kpiDashboard=[{title:"Primera Entrega",value:`Mes ${this.simulationResult.tandaResult?.firstAwardT||"TBD"}`,icon:"\u{1F3AF}",color:"text-blue-600",trend:"stable"},{title:"Unidades Entregadas",value:`${this.simulationResult.tandaResult?.deliveredCount||0}/${this.configForm.value.memberCount}`,icon:"\u2705",color:"text-green-600",trend:"up"},{title:"Ahorro Total Proyectado",value:this.formatCurrency(this.simulationResult.scenario.targetAmount),icon:"\u{1F4B0}",color:"text-purple-600",trend:"up"},{title:"Retorno Efectivo",value:`${((this.simulationResult.tandaResult?.effectiveReturn||0)*100).toFixed(1)}%`,icon:"\u{1F4C8}",color:"text-emerald-600",trend:"up"}])}getDeltaImpactText(){return Array.isArray(this.whatIfEvents)&&this.whatIfEvents.filter(l=>l?.type==="extra").length>0?"-1 a -2 meses":"+1 a +2 meses"}shareWhatsApp(){if(!this.simulationResult)return;let e=this.generateWhatsAppMessage(),l=`https://wa.me/?text=${encodeURIComponent(e)}`;window.open(l,"_blank")}generateWhatsAppMessage(){return this.simulationResult?`\u{1F31F} *Simulaci\xF3n de Tanda Colectiva*

\u{1F465} *Configuraci\xF3n del Grupo:*
\u2022 Miembros: ${this.configForm.value.memberCount}
\u2022 Precio por unidad: ${this.formatCurrency(this.configForm.value.unitPrice)}
\u2022 Aportaci\xF3n total mensual: ${this.formatCurrency(this.simulationResult.scenario.monthlyContribution)}

\u{1F4CA} *Resultados:*
\u2022 Primera entrega: Mes ${this.simulationResult.tandaResult?.firstAwardT||"TBD"}
\u2022 Meta total: ${this.formatCurrency(this.simulationResult.scenario.targetAmount)}
\u2022 Tiempo estimado: ${this.simulationResult.scenario.monthsToTarget} meses

${this.whatIfEvents.length>0?`
\u{1F3AF} *Eventos What-If incluidos:*
`+this.whatIfEvents.map(e=>`\u2022 ${e.description}`).join(`
`):""}

\xBFTe interesa formalizar este grupo? \u{1F690}\u2728`:""}speakSummary(){if(!this.simulationResult)return;let e=`Simulaci\xF3n de tanda colectiva completada. 
    Grupo de ${this.configForm.value.memberCount} miembros. 
    Meta total de ${this.formatCurrency(this.simulationResult.scenario.targetAmount)}. 
    Primera entrega en el mes ${this.simulationResult.tandaResult?.firstAwardT||"por determinar"}. 
    Con aportaciones mensuales de ${this.formatCurrency(this.simulationResult.scenario.monthlyContribution)} del grupo completo.
    ${this.whatIfEvents.length>0?`Se han incluido ${this.whatIfEvents.length} eventos especiales en la simulaci\xF3n.`:""}`;if("speechSynthesis"in window){let l=new SpeechSynthesisUtterance(e);l.lang="es-MX",l.rate=.8,speechSynthesis.speak(l)}}getAvailableMemberIds(){let e=this.configForm.value.memberCount||5;return Array.from({length:e},(l,a)=>`M${a+1}`)}getEventTypeIcon(e){return e==="extra"?"\u2795":"\u26A0\uFE0F"}getEventTypeColor(e){return e==="extra"?"text-green-600":"text-red-600"}getEventTypeBgColor(e){return e==="extra"?"bg-green-50":"bg-red-50"}generatePDF(){if(!this.simulationResult){this.toast.error("No hay simulaci\xF3n disponible para generar PDF");return}let e={memberCount:this.configForm.value.memberCount,unitPrice:this.configForm.value.unitPrice,monthlyContribution:this.simulationResult.scenario.monthlyContribution,timeline:this.generateMonthlyTimeline().slice(0,6).map(l=>({month:l.t,event:"Mes "+l.t})),totalSavings:this.simulationResult.snowballEffect?.totalSavings||[],firstDeliveryMonth:this.simulationResult.tandaResult?.firstAwardT||0,avgTimeToAward:this.simulationResult.tandaResult?.avgTimeToAward||0};this.pdfExportService.generateTandaPDF(e).then(()=>{this.toast.success("PDF generado exitosamente")}).catch(()=>{this.toast.error("Error al generar PDF")})}static{this.\u0275fac=function(l){return new(l||r)(C(oe),C(ce),C(me),C(se),C(ue),C(de),C(z))}}static{this.\u0275cmp=W({type:r,selectors:[["app-tanda-colectiva"]],standalone:!0,features:[O],decls:82,vars:20,consts:[[1,"container","mx-auto","p-6","space-y-6"],[1,"bg-gradient-to-r","from-purple-600","to-purple-800","text-white","rounded-xl","p-6","shadow-lg"],[1,"flex","justify-between","items-start"],[1,"text-3xl","font-bold","mb-2"],[1,"text-purple-100","text-lg"],[1,"flex","gap-2"],[1,"px-4","py-2","rounded-lg","font-semibold","text-sm","transition-all","duration-200",3,"click"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"bg-white","rounded-xl","shadow-lg","p-6"],[1,"text-xl","font-semibold","text-gray-800","mb-6","flex","items-center"],[1,"bg-purple-500","text-white","rounded-full","w-8","h-8","flex","items-center","justify-center","text-sm","font-bold","mr-3"],[1,"space-y-6",3,"formGroup"],[1,"space-y-2"],[1,"block","text-sm","font-medium","text-gray-700"],["type","number","formControlName","memberCount","placeholder","10","min","5","max","50","step","1",1,"w-full","py-3","px-4","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent"],[1,"flex","justify-between","text-xs","text-gray-500"],["class","text-red-500 text-sm",4,"ngIf"],[1,"relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-500"],["type","number","formControlName","unitPrice","placeholder","749000","min","500000","step","1000",1,"w-full","pl-8","pr-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent"],[1,"text-xs","text-gray-500"],["type","number","formControlName","avgConsumption","placeholder","400","min","200","step","50",1,"w-full","pr-16","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent"],[1,"absolute","right-3","top-1/2","transform","-translate-y-1/2","text-gray-500"],["type","number","formControlName","overpricePerLiter","placeholder","3.00","min","1","step","0.1",1,"w-full","pl-8","pr-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent"],["type","number","formControlName","voluntaryMonthly","placeholder","500","min","0","step","100",1,"w-full","pl-8","pr-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-purple-500","focus:border-transparent"],["class","space-y-4 pt-6 border-t border-gray-200",4,"ngIf"],[1,"flex","gap-4","pt-4"],["type","button",1,"flex-1","bg-purple-600","hover:bg-purple-700","disabled:bg-gray-400","text-white","font-semibold","py-3","px-6","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center",3,"click","disabled"],[4,"ngIf"],["class","flex items-center",4,"ngIf"],["type","button",1,"px-6","py-3","border","border-gray-300","text-gray-700","font-medium","rounded-lg","hover:bg-gray-50","transition-colors","duration-200",3,"click"],["class","bg-white rounded-xl shadow-lg p-6",4,"ngIf"],[1,"text-red-500","text-sm"],[1,"space-y-4","pt-6","border-t","border-gray-200"],[1,"text-lg","font-semibold","text-gray-800","flex","items-center"],[1,"bg-orange-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center","text-sm","font-bold","mr-2"],[1,"text-sm","text-gray-600"],[1,"bg-gray-50","rounded-lg","p-4","space-y-3"],[1,"font-medium","text-gray-700"],[1,"grid","grid-cols-2","gap-3"],[1,"block","text-xs","font-medium","text-gray-600","mb-1"],["type","number","min","1","max","60","placeholder","1",1,"w-full","px-3","py-2","text-sm","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","text-sm","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","extra"],["value","miss"],[3,"value",4,"ngFor","ngForOf"],[1,"absolute","left-2","top-1/2","transform","-translate-y-1/2","text-gray-500","text-sm"],["type","number","min","0","placeholder","1000",1,"w-full","pl-6","pr-3","py-2","text-sm","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"w-full","px-4","py-2","bg-purple-600","text-white","rounded-md","hover:bg-purple-700","disabled:bg-gray-400","disabled:cursor-not-allowed","text-sm","font-medium","transition-colors","duration-200",3,"click","disabled"],["class","space-y-2",4,"ngIf"],[3,"value"],[1,"max-h-32","overflow-y-auto","space-y-2"],[3,"class",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-3"],[1,"text-lg"],[1,"text-red-500","hover:text-red-700","font-bold","text-lg","leading-none",3,"click"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"bg-green-500","text-white","rounded-full","w-8","h-8","flex","items-center","justify-center","text-sm","font-bold","mr-3"],["class","mb-6",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","mb-6"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","p-4","rounded-lg","border","border-purple-200"],[1,"text-purple-600","text-sm","font-medium"],[1,"text-2xl","font-bold","text-purple-800"],[1,"text-xs","text-purple-600","mt-1"],[1,"bg-gradient-to-br","from-green-50","to-green-100","p-4","rounded-lg","border","border-green-200"],[1,"text-green-600","text-sm","font-medium"],[1,"text-2xl","font-bold","text-green-800"],[1,"text-xs","text-green-600","mt-1"],[1,"bg-gray-50","rounded-lg","p-4","mb-6"],[1,"font-semibold","text-gray-800","mb-3"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","text-sm"],[1,"flex","justify-between"],[1,"text-gray-600"],[1,"font-medium"],[1,"my-3"],[1,"flex","justify-between","font-semibold"],["class","bg-blue-50 rounded-lg p-4 mb-6",4,"ngIf"],["class","bg-amber-50 rounded-lg p-4 mb-6",4,"ngIf"],[1,"flex","gap-3"],[1,"bg-red-600","hover:bg-red-700","text-white","font-semibold","py-3","px-4","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"flex-1","bg-blue-600","hover:bg-blue-700","text-white","font-semibold","py-3","px-4","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"flex-1","bg-green-600","hover:bg-green-700","text-white","font-semibold","py-3","px-4","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"flex","gap-4"],[1,"flex-1","bg-purple-600","hover:bg-purple-700","text-white","font-semibold","py-4","px-6","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center","text-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"px-6","py-4","border-2","border-purple-600","text-purple-600","font-semibold","rounded-lg","hover:bg-purple-50","transition-colors","duration-200",3,"click"],["class","bg-gradient-to-r from-orange-50 to-orange-100 border border-orange-200 rounded-lg p-4",4,"ngIf"],[1,"mb-6"],[1,"text-lg","font-semibold","text-gray-700","mb-4","flex","items-center"],[1,"grid","grid-cols-2","lg:grid-cols-4","gap-4","mb-6"],["class","bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow duration-200",4,"ngFor","ngForOf"],[1,"bg-white","border","border-gray-200","rounded-xl","p-4","hover:shadow-md","transition-shadow","duration-200"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-2xl"],[3,"class",4,"ngIf"],[1,"text-xs","text-gray-500","mb-1"],[1,"bg-blue-50","rounded-lg","p-4","mb-6"],[1,"font-semibold","text-gray-800","mb-3","flex","items-center"],[1,"text-blue-600","mr-2"],[1,"space-y-2","text-sm"],[1,"font-medium","text-blue-600"],["class","flex justify-between",4,"ngIf"],[1,"font-medium","text-green-600"],[1,"bg-amber-50","rounded-lg","p-4","mb-6"],[1,"text-amber-600","mr-2"],[1,"font-medium","text-amber-600"],[1,"font-semibold","text-gray-800","mb-4","flex","items-center"],[1,"space-y-3","max-h-96","overflow-y-auto","bg-gray-50","rounded-lg","p-4"],["class","p-4 rounded-lg bg-white border border-gray-200 hover:shadow-sm transition-shadow",4,"ngFor","ngForOf"],[1,"p-4","rounded-lg","bg-white","border","border-gray-200","hover:shadow-sm","transition-shadow"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-bold","text-gray-800","flex","items-center"],["class","ml-2 px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-600",4,"ngIf"],[1,"grid","grid-cols-3","gap-4","text-sm"],[1,"font-semibold","text-green-600"],[1,"font-semibold","text-orange-600"],[1,"text-gray-700","font-medium"],[1,"font-bold","text-gray-800"],["class","mt-3 pt-2 border-t border-dashed border-gray-300",4,"ngIf"],[1,"ml-2","px-2","py-1","text-xs","font-semibold","rounded-full","bg-red-100","text-red-600"],[1,"mt-3","pt-2","border-t","border-dashed","border-gray-300"],["class","flex items-center gap-2 text-sm text-green-600 font-medium",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-2","text-sm","text-green-600","font-medium"],[1,"bg-gray-100","rounded-lg","p-4"],[1,"grid","grid-cols-4","gap-2","text-xs","text-gray-600","mb-2"],[1,"space-y-2","max-h-48","overflow-y-auto"],["class","grid grid-cols-4 gap-2 text-sm",4,"ngFor","ngForOf"],[1,"grid","grid-cols-4","gap-2","text-sm"],[1,"text-gray-800"],[1,"w-16","bg-gray-200","rounded-full","h-2"],[1,"bg-purple-500","h-2","rounded-full"],[1,"text-xs","text-gray-600"],[1,"bg-gradient-to-r","from-blue-50","to-blue-100","rounded-lg","p-4","border","border-blue-200"],[1,"flex","items-center","justify-between","mb-3"],[1,"font-medium","text-blue-800"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"text-center"],[1,"text-lg","font-bold","text-blue-600"],[1,"text-xs","text-blue-600"],[1,"text-lg","font-bold","text-green-600"],[1,"text-xs","text-green-600"],[1,"text-lg","font-bold","text-purple-600"],[1,"text-xs","text-purple-600"],[1,"text-lg","font-bold","text-orange-600"],[1,"text-xs","text-orange-600"],[1,"mt-3","text-sm","text-blue-700","text-center"],[1,"bg-gradient-to-r","from-orange-50","to-orange-100","border","border-orange-200","rounded-lg","p-4"],[1,"font-semibold","text-orange-800","mb-2","flex","items-center"],[1,"mr-2"],[1,"text-sm","text-orange-700","mb-3"],[1,"space-y-1"],["class","text-xs text-orange-600",4,"ngFor","ngForOf"],[1,"mt-3","p-3","bg-white","rounded-md","border","border-orange-200"],[1,"flex","items-center","justify-between","text-sm"],[1,"text-orange-700","font-medium"],[1,"text-orange-800","font-bold"],[1,"text-xl","font-semibold","text-gray-800","mb-4","flex","items-center"],[1,"bg-amber-500","text-white","rounded-full","w-8","h-8","flex","items-center","justify-center","text-sm","font-bold","mr-3"],[1,"space-y-4","text-gray-600"],[1,"flex","items-start","space-x-3"],[1,"bg-purple-100","text-purple-600","rounded-full","w-6","h-6","flex","items-center","justify-center","text-sm","font-bold","flex-shrink-0"],[1,"font-medium","text-gray-800"],[1,"text-sm"],[1,"bg-green-100","text-green-600","rounded-full","w-6","h-6","flex","items-center","justify-center","text-sm","font-bold","flex-shrink-0"]],template:function(l,a){if(l&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),n(5,"Simulador de Tanda Colectiva"),t(),i(6,"p",4),n(7,"Encuentra la mejor estrategia de ahorro grupal con efecto bola de nieve"),t()(),i(8,"div",5)(9,"button",6),f("click",function(){return a.toggleViewMode()}),n(10),t()()()(),i(11,"div",7)(12,"div",8)(13,"h2",9)(14,"span",10),n(15,"1"),t(),n(16," Configuraci\xF3n de la Tanda "),t(),i(17,"form",11)(18,"div",12)(19,"label",13),n(20," N\xFAmero de Miembros del Grupo * "),t(),_(21,"input",14),i(22,"div",15)(23,"span"),n(24,"M\xEDnimo: 5 miembros"),t(),i(25,"span"),n(26,"M\xE1ximo: 50 miembros"),t()(),c(27,pe,2,0,"div",16)(28,ve,2,0,"div",16)(29,ge,2,0,"div",16),t(),i(30,"div",12)(31,"label",13),n(32," Precio de la Unidad * "),t(),i(33,"div",17)(34,"span",18),n(35,"$"),t(),_(36,"input",19),t(),i(37,"p",20),n(38,"Precio base de la vagoneta Estado de M\xE9xico"),t(),c(39,xe,2,0,"div",16)(40,fe,2,0,"div",16),t(),i(41,"div",12)(42,"label",13),n(43," Consumo Promedio por Miembro * "),t(),i(44,"div",17),_(45,"input",21),i(46,"span",22),n(47,"litros/mes"),t()(),i(48,"p",20),n(49,"Consumo mensual promedio esperado por cada miembro"),t(),c(50,be,2,0,"div",16)(51,he,2,0,"div",16),t(),i(52,"div",12)(53,"label",13),n(54," Sobreprecio por Litro * "),t(),i(55,"div",17)(56,"span",18),n(57,"$"),t(),_(58,"input",23),t(),i(59,"p",20),n(60,"Sobreprecio que cada miembro pagar\xE1 por litro"),t(),c(61,_e,2,0,"div",16)(62,Ee,2,0,"div",16),t(),i(63,"div",12)(64,"label",13),n(65," Aportaci\xF3n Voluntaria por Miembro * "),t(),i(66,"div",17)(67,"span",18),n(68,"$"),t(),_(69,"input",24),t(),i(70,"p",20),n(71,"Aportaci\xF3n mensual adicional que cada miembro puede hacer"),t(),c(72,ye,2,0,"div",16),t(),c(73,Te,38,7,"div",25),i(74,"div",26)(75,"button",27),f("click",function(){return a.simulateTanda()}),c(76,Ie,2,0,"span",28)(77,Me,5,0,"div",29),t(),i(78,"button",30),f("click",function(){return a.resetForm()}),n(79," Limpiar "),t()()()(),c(80,Ke,62,15,"div",31)(81,Qe,38,0,"div",31),t()()),l&2){let s,E,h,y,S,D,A,P,k,V;o(9),w(a.currentViewMode==="simple"?"bg-purple-500 text-white":"bg-white text-purple-600"),o(),v(" ",a.currentViewMode==="simple"?"\u{1F4F1} Simple":"\u{1F52C} Avanzado"," "),o(7),m("formGroup",a.configForm),o(10),m("ngIf",(s=a.configForm.get("memberCount"))==null||s.errors==null?null:s.errors.required),o(),m("ngIf",(E=a.configForm.get("memberCount"))==null||E.errors==null?null:E.errors.min),o(),m("ngIf",(h=a.configForm.get("memberCount"))==null||h.errors==null?null:h.errors.max),o(10),m("ngIf",(y=a.configForm.get("unitPrice"))==null||y.errors==null?null:y.errors.required),o(),m("ngIf",(S=a.configForm.get("unitPrice"))==null||S.errors==null?null:S.errors.min),o(10),m("ngIf",(D=a.configForm.get("avgConsumption"))==null||D.errors==null?null:D.errors.required),o(),m("ngIf",(A=a.configForm.get("avgConsumption"))==null||A.errors==null?null:A.errors.min),o(10),m("ngIf",(P=a.configForm.get("overpricePerLiter"))==null||P.errors==null?null:P.errors.required),o(),m("ngIf",(k=a.configForm.get("overpricePerLiter"))==null||k.errors==null?null:k.errors.min),o(10),m("ngIf",(V=a.configForm.get("voluntaryMonthly"))==null||V.errors==null?null:V.errors.min),o(),m("ngIf",a.currentViewMode==="advanced"),o(2),m("disabled",!a.configForm.valid||a.isSimulating),o(),m("ngIf",!a.isSimulating),o(),m("ngIf",a.isSimulating),o(3),m("ngIf",a.simulationResult),o(),m("ngIf",!a.simulationResult)}},dependencies:[G,L,q,le,X,te,ie,U,J,ee,H,K,re,ne,Y,Z,ae,Q],encapsulation:2})}}return r})();export{dt as TandaColectivaComponent};
