<div class="flex h-screen">
  <!-- Sidebar desktop -->
  <aside class="w-64 ui-card hidden md:block" data-cy="sidebar-desktop">
    <nav class="space-y-2">
      <a routerLink="/dashboard" data-cy="nav-dashboard" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="bar-chart" class="w-5 h-5"></lucide-icon>
        Dashboard
      </a>
      <a routerLink="/usuarios" data-cy="nav-usuarios" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="shield" class="w-5 h-5"></lucide-icon>
        Usuarios
      </a>
      <a routerLink="/clientes" data-cy="nav-clientes" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="users" class="w-5 h-5"></lucide-icon>
        Clientes
      </a>
      <a routerLink="/cotizador" data-cy="nav-cotizador" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="calculator" class="w-5 h-5"></lucide-icon>
        Cotizador
      </a>
      <a routerLink="/configuracion" data-cy="nav-configuracion" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="settings" class="w-5 h-5"></lucide-icon>
        Configuraci√≥n
      </a>
      <a routerLink="/avi" data-cy="nav-avi" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="mic" class="w-5 h-5"></lucide-icon>
        AVI
      </a>
    </nav>
  </aside>

  <!-- Mobile overlay sidebar -->
  <div class="md:hidden" data-cy="overlay" [class.fixed]="mobileOpen" [class.inset-0]="mobileOpen" [class.z-50]="mobileOpen" [ngClass]="{'bg-black/50': mobileOpen}" (click)="closeMobile()"></div>
  
  <aside class="ui-card fixed inset-y-0 left-0 z-50 w-64 p-4 transform transition md:hidden" data-cy="sidebar-mobile" [class.-translate-x-full]="!mobileOpen" [class.translate-x-0]="mobileOpen">
    <nav class="space-y-2" (click)="closeMobile()">
      <a routerLink="/dashboard" data-cy="nav-dashboard" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="bar-chart" class="w-5 h-5"></lucide-icon>
        Dashboard
      </a>
      <a routerLink="/usuarios" data-cy="nav-usuarios" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="shield" class="w-5 h-5"></lucide-icon>
        Usuarios
      </a>
      <a routerLink="/clientes" data-cy="nav-clientes" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="users" class="w-5 h-5"></lucide-icon>
        Clientes
      </a>
      <a routerLink="/cotizador" data-cy="nav-cotizador" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="calculator" class="w-5 h-5"></lucide-icon>
        Cotizador
      </a>
      <a routerLink="/configuracion" data-cy="nav-configuracion" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="settings" class="w-5 h-5"></lucide-icon>
        Configuraci√≥n
      </a>
      <a routerLink="/avi" data-cy="nav-avi" class="ui-btn ui-btn-secondary flex items-center gap-2">
        <lucide-icon name="mic" class="w-5 h-5"></lucide-icon>
        AVI
      </a>
    </nav>
  </aside>

  <!-- Main -->
  <div class="flex-1 flex flex-col">
    <!-- Topbar -->
    <header class="ui-card flex justify-between items-center p-2" data-cy="topbar">
      <div class="flex items-center gap-2">
        <button class="ui-btn ui-btn-ghost md:hidden" data-cy="mobile-menu-toggle" (click)="toggleMobile()" aria-label="Abrir men√∫">‚ò∞</button>
        <div>Breadcrumbs</div>
      </div>
      <div class="flex gap-2 items-center">
        <button class="ui-btn ui-btn-ghost md:hidden" aria-label="Buscar">üîç</button>
        <input type="text" class="ui-input hidden sm:block w-40 md:w-64" placeholder="Buscar...">
        <button data-cy="dark-toggle" class="ui-btn ui-btn-secondary" (click)="toggleDarkMode()">üåì</button>
      </div>
    </header>

    <!-- Update Banner -->
    <app-update-banner></app-update-banner>

    <!-- Content -->
    <main class="flex-1 overflow-y-auto p-6" data-cy="main-content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>

