<div class="space-y-4">
  <div class="ui-card" data-cy="odoo-card">
    <div class="ui-card-header flex items-center justify-between">
      <h2 class="text-base font-semibold text-[var(--text-1)]">Integraci√≥n {{ title }}</h2>
      <span class="text-xs px-2 py-1 rounded border border-[var(--border)] text-[var(--text-2)]" data-cy="odoo-status">
        {{ status() }}
      </span>
    </div>

    <div class="ui-card-body space-y-3">
      <label class="block text-sm text-[var(--text-2)]">Request (JSON)</label>
      <textarea class="ui-input font-mono text-xs min-h-[140px]" [(ngModel)]="requestText" data-cy="odoo-input"></textarea>

      <div class="flex gap-2">
        <button class="ui-btn ui-btn-primary" (click)="submit()" [disabled]="loading()" data-cy="odoo-submit">Enviar</button>
        <button class="ui-btn ui-btn-secondary" (click)="reset()" [disabled]="loading()" data-cy="odoo-reset">Resetear</button>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="ui-card" data-cy="odoo-request">
      <div class="ui-card-header"><h3 class="text-sm font-medium">Request</h3></div>
      <div class="ui-card-body">
        <pre class="text-xs font-mono whitespace-pre-wrap">{{ requestText }}</pre>
      </div>
    </div>

    <div class="ui-card" data-cy="odoo-response">
      <div class="ui-card-header"><h3 class="text-sm font-medium">Response</h3></div>
      <div class="ui-card-body">
        <ng-container *ngIf="!loading(); else loadingTpl">
          <pre class="text-xs font-mono whitespace-pre-wrap">{{ responsePayload | json }}</pre>
        </ng-container>
        <ng-template #loadingTpl>
          <div class="space-y-2 animate-pulse">
            <div class="h-4 bg-[var(--border)] rounded"></div>
            <div class="h-4 bg-[var(--border)] rounded w-5/6"></div>
            <div class="h-4 bg-[var(--border)] rounded w-4/6"></div>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</div>

