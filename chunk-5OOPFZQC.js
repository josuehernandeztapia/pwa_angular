import{a as P}from"./chunk-NH6JDP7H.js";import{k as C,m as E,n as M,p as O}from"./chunk-SCHFUJ5K.js";import{Ea as c,Fa as s,Sa as x,Ua as d,Ya as e,Yb as _,Za as t,bb as v,bc as b,cb as h,db as l,ea as p,ib as n,jb as m,ma as g,na as u,sb as y}from"./chunk-5IDTUAMZ.js";import"./chunk-DM275RSA.js";function k(r,f){r&1&&(e(0,"div",3)(1,"div",4),n(2,"\u{1F4E7}"),t(),e(3,"h1"),n(4,"Verificar Email"),t(),e(5,"p"),n(6,"Verificando tu direcci\xF3n de correo electr\xF3nico..."),t(),e(7,"div",5),n(8,"\u23F3"),t()())}function S(r,f){if(r&1){let i=v();e(0,"div",3)(1,"div",6),n(2,"\u2705"),t(),e(3,"h1"),n(4,"\xA1Email Verificado!"),t(),e(5,"p"),n(6),t(),e(7,"div",7)(8,"button",8),h("click",function(){g(i);let a=l();return u(a.goToLogin())}),n(9," Ir al Login "),t()()()}if(r&2){let i=l();c(6),m(i.verificationMessage)}}function V(r,f){if(r&1&&(e(0,"div",3)(1,"div",9),n(2,"\u274C"),t(),e(3,"h1"),n(4,"Error de Verificaci\xF3n"),t(),e(5,"p"),n(6),t(),e(7,"div",7)(8,"button",10),n(9," Volver a Registro "),t(),e(10,"button",11),n(11," Ir al Login "),t()()()),r&2){let i=l();c(6),m(i.errorMessage)}}var z=(()=>{class r{constructor(i,o,a){this.route=i,this.router=o,this.authService=a,this.isLoading=!0,this.isVerified=!1,this.hasError=!1,this.verificationMessage="",this.errorMessage=""}ngOnInit(){let i=this.route.snapshot.queryParams.token;if(!i){this.hasError=!0,this.errorMessage="Token de verificaci\xF3n no proporcionado.",this.isLoading=!1;return}this.verifyEmailToken(i)}verifyEmailToken(i){this.authService.verifyEmail(i).subscribe({next:o=>{this.isLoading=!1,this.isVerified=!0,this.verificationMessage=o.message},error:o=>{this.isLoading=!1,this.hasError=!0,this.errorMessage=o.message||"Error al verificar el email."}})}goToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(o){return new(o||r)(s(C),s(E),s(P))}}static{this.\u0275cmp=p({type:r,selectors:[["app-verify-email"]],standalone:!0,features:[y],decls:5,vars:3,consts:[[1,"verify-container"],[1,"verify-card"],["class","verify-content",4,"ngIf"],[1,"verify-content"],[1,"icon"],[1,"loading-spinner"],[1,"icon","success"],[1,"actions"],[1,"btn-primary",3,"click"],[1,"icon","error"],["routerLink","/register",1,"btn-secondary"],["routerLink","/login",1,"btn-primary"]],template:function(o,a){o&1&&(e(0,"div",0)(1,"div",1),x(2,k,9,0,"div",2)(3,S,10,1,"div",2)(4,V,12,1,"div",2),t()()),o&2&&(c(2),d("ngIf",!a.isLoading&&!a.isVerified&&!a.hasError),c(),d("ngIf",a.isVerified&&!a.hasError),c(),d("ngIf",a.hasError))},dependencies:[b,_,O,M],styles:[".verify-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.verify-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;padding:60px 40px;width:100%;max-width:500px;box-shadow:0 20px 60px #0003;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);text-align:center}.verify-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:24px}.icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:16px}.icon.success[_ngcontent-%COMP%]{color:#48bb78}.icon.error[_ngcontent-%COMP%]{color:#e53e3e}h1[_ngcontent-%COMP%]{margin:0;color:#2d3748;font-size:2rem;font-weight:700}p[_ngcontent-%COMP%]{margin:0;color:#4a5568;font-size:1.1rem;line-height:1.6;max-width:400px}.loading-spinner[_ngcontent-%COMP%]{font-size:2rem;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:16px;flex-wrap:wrap;justify-content:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:14px 28px;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;border:none;text-decoration:none;display:inline-block}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4299e1,#3182ce);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3182ce,#2c5282);transform:translateY(-1px);box-shadow:0 10px 25px #4299e14d}.btn-secondary[_ngcontent-%COMP%]{background:#f7fafc;color:#4a5568;border:2px solid #e2e8f0}.btn-secondary[_ngcontent-%COMP%]:hover{background:#edf2f7;border-color:#cbd5e0}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media (max-width: 480px){.verify-card[_ngcontent-%COMP%]{padding:40px 24px;margin:16px}.actions[_ngcontent-%COMP%]{flex-direction:column;width:100%}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}}"]})}}return r})();export{z as VerifyEmailComponent};
